{"ast":null,"code":"import _slicedToArray from\"C:/Users/dimitris.siamplis/Desktop/React-Node/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import\"./SpecificFood.css\";import{Col,Row,Form,Button,Alert}from\"react-bootstrap\";import{useState,useEffect}from\"react\";import Cookies from\"universal-cookie\";import{BsPlusLg,BsXLg}from\"react-icons/bs\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SpecificFood=function SpecificFood(_ref){var colorWines=_ref.colorWines,typeWines=_ref.typeWines,grapeWines=_ref.grapeWines;var cookies=new Cookies();var userEmail=cookies.get(\"email\");// ----------- width size -----------------------\nvar _useState=useState(window.innerWidth),_useState2=_slicedToArray(_useState,2),deviceSize=_useState2[0],changeDeviceSize=_useState2[1];useEffect(function(){var resizeW=function resizeW(){return changeDeviceSize(window.innerWidth);};window.addEventListener(\"resize\",resizeW);// Update the width on resize\nreturn function(){return window.removeEventListener(\"resize\",resizeW);};});var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),writeFood=_useState4[0],setWriteFood=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),foodResults=_useState6[0],setFoodResults=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),selectedFood=_useState8[0],setSelectedFood=_useState8[1];var _useState9=useState({Type:\"\",Color:\"\",Grape:\"\",Year:\"\"}),_useState10=_slicedToArray(_useState9,2),specificFood=_useState10[0],setSpecificFood=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),completeAdd=_useState12[0],setCompleteAdd=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),change=_useState14[0],setChange=_useState14[1];var wineYears=[\"1950 or oldest\",\"1950-1980\",\"1980-2000\",\"2000-2010\",\"2010-2020\",\"2020-present\"];// ---------------- Food API Call --------------------\nvar findAnyFood=function findAnyFood(food){fetch(\"https://api.spoonacular.com/recipes/complexSearch?apiKey=27e614b6300f46b38613b4bb811633d0&query=\".concat(food)).then(function(response){return response.json();}).then(function(actualData){console.log(actualData.results);var foods=[];actualData.results.map(function(food){foods.push(food.title+\"*\"+food.id+\"*\"+food.image);});setFoodResults(foods);});};var addSpecificFood=function addSpecificFood(){var newSpecificFood={Types:specificFood.Type,Colors:specificFood.Color,Grapes:specificFood.Grape,Years:specificFood.Year,Email:userEmail,Name:selectedFood.split(\"*\")[0]};fetch(\"https://winelovers.herokuapp.com/opinionSpecificFood\",{method:\"POST\",body:JSON.stringify(newSpecificFood),headers:{\"Content-Type\":\"application/json\"}}).then(function(res){return res.json();}).then(function(json){console.log(json);setCompleteAdd(true);});};var clearHandler=function clearHandler(){setCompleteAdd(false);setSpecificFood({Type:\"\",Color:\"\",Grape:\"\",Year:\"\"});};var aplyHandler=function aplyHandler(){addSpecificFood();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"helpUsTitleContent\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"Select the food that you want to pair your wine\",\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"helpUsTitleContent\",children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{xs:deviceSize<800?7:4,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Write\\xA0&\\xA0Find\\xA0your\\xA0Recipe\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Find any Food\",value:writeFood,onChange:function onChange(e){setWriteFood(e.target.value);if(e.target.value.length>2){findAnyFood(e.target.value);}}})]}),/*#__PURE__*/_jsxs(Col,{xs:deviceSize<800?7:4,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Recipe\"}),/*#__PURE__*/_jsxs(Form.Select,{onChange:function onChange(e){setSelectedFood(e.target.value);window.scrollTo(0,500);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Food select\"}),foodResults.map(function(food){return/*#__PURE__*/_jsx(\"option\",{value:food,children:food.split(\"*\")[0]});})]})]}),/*#__PURE__*/_jsxs(Col,{xs:1,children:[!change&&/*#__PURE__*/_jsx(BsPlusLg,{className:\"plus-icon\",title:\"Add your Recipe\",onClick:function onClick(){setChange(!change);}}),change&&/*#__PURE__*/_jsx(BsXLg,{className:\"x-icon\",title:\"Add your Recipe\",onClick:function onClick(){setChange(!change);}})]})]}),change&&/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{xs:6,children:[\" \",/*#__PURE__*/_jsx(Form.Label,{children:\"Write your own recipe\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter email\"})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:deviceSize<500?12:10,children:selectedFood!==\"\"&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"img\",{className:\"imageFood\",src:selectedFood.split(\"*\")[2]})})})})]})]}),selectedFood!==\"\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"helpUsTitleContent\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"- Wine would you pair with\",\" \",/*#__PURE__*/_jsx(\"strong\",{children:selectedFood.split(\"*\")[0]}),\" :\",\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"helpUsTitleContent\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{xs:deviceSize<800?deviceSize<400?12:6:2,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Type\"}),/*#__PURE__*/_jsxs(Form.Select,{size:\"sm\",onChange:function onChange(e){setSpecificFood({Type:e.target.value,Color:specificFood.Color,Grape:specificFood.Grape,Year:specificFood.Year});},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",selected:specificFood.Type===\"\"?true:false,children:\"Select Type\"}),typeWines.map(function(type){return/*#__PURE__*/_jsx(\"option\",{selected:specificFood.Type===type?true:false,children:type});})]})]}),/*#__PURE__*/_jsxs(Col,{xs:deviceSize<800?deviceSize<400?12:6:2,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Color\"}),/*#__PURE__*/_jsxs(Form.Select,{size:\"sm\",onChange:function onChange(e){setSpecificFood({Type:specificFood.Type,Color:e.target.value,Grape:specificFood.Grape,Year:specificFood.Year});},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",selected:specificFood.Color===\"\"?true:false,children:\"Select color\"}),colorWines.map(function(color){return/*#__PURE__*/_jsx(\"option\",{selected:specificFood.Color===color?true:false,children:color});})]})]}),/*#__PURE__*/_jsxs(Col,{xs:deviceSize<800?deviceSize<400?12:6:2,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Grape\"}),/*#__PURE__*/_jsxs(Form.Select,{size:\"sm\",onChange:function onChange(e){setSpecificFood({Type:specificFood.Type,Color:specificFood.Color,Grape:e.target.value,Year:specificFood.Year});},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",selected:specificFood.Grape===\"\"?true:false,children:\"Select grape\"}),grapeWines.map(function(grape){return/*#__PURE__*/_jsx(\"option\",{selected:specificFood.Grape===grape?true:false,children:grape});})]})]}),/*#__PURE__*/_jsxs(Col,{xs:deviceSize<800?deviceSize<400?12:6:2,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Year Range\"}),/*#__PURE__*/_jsxs(Form.Select,{size:\"sm\",onChange:function onChange(e){setSpecificFood({Type:specificFood.Type,Color:specificFood.Color,Grape:specificFood.Grape,Year:e.target.value});},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",selected:specificFood.Year===\"\"?true:false,children:\"Select year\"}),wineYears.map(function(year){return/*#__PURE__*/_jsx(\"option\",{selected:specificFood.Year===year?true:false,children:year});})]})]})]})})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{xs:1,children:[/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:clearHandler,children:\"Clear\"}),\" \"]}),/*#__PURE__*/_jsx(Col,{xs:1}),/*#__PURE__*/_jsx(Col,{xs:1,children:/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:aplyHandler,disabled:specificFood.Type===\"\"||specificFood.Color===\"\"||specificFood.Grape===\"\"||specificFood.Year===\"\",children:\"Apply\"})}),completeAdd&&/*#__PURE__*/_jsx(Col,{xs:8,className:\"text-center\",children:/*#__PURE__*/_jsxs(Alert,{variant:\"success\",children:[\" \",\"Thank you for your help. Your opinion added succesfully.\"]})})]})]});};export default SpecificFood;","map":{"version":3,"sources":["C:/Users/dimitris.siamplis/Desktop/React-Node/Front-End/src/pages/HelpUsPages/SpecificFood.js"],"names":["React","Col","Row","Form","Button","Alert","useState","useEffect","Cookies","BsPlusLg","BsXLg","SpecificFood","colorWines","typeWines","grapeWines","cookies","userEmail","get","window","innerWidth","deviceSize","changeDeviceSize","resizeW","addEventListener","removeEventListener","writeFood","setWriteFood","foodResults","setFoodResults","selectedFood","setSelectedFood","Type","Color","Grape","Year","specificFood","setSpecificFood","completeAdd","setCompleteAdd","change","setChange","wineYears","findAnyFood","food","fetch","then","response","json","actualData","console","log","results","foods","map","push","title","id","image","addSpecificFood","newSpecificFood","Types","Colors","Grapes","Years","Email","Name","split","method","body","JSON","stringify","headers","res","clearHandler","aplyHandler","e","target","value","length","scrollTo","type","color","grape","year"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./SpecificFood.css\";\r\nimport { Col, Row, Form, Button, Alert } from \"react-bootstrap\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nimport Cookies from \"universal-cookie\";\r\nimport { BsPlusLg, BsXLg } from \"react-icons/bs\";\r\n\r\nconst SpecificFood = ({ colorWines, typeWines, grapeWines }) => {\r\n  const cookies = new Cookies();\r\n  var userEmail = cookies.get(\"email\");\r\n  // ----------- width size -----------------------\r\n  const [deviceSize, changeDeviceSize] = useState(window.innerWidth);\r\n  useEffect(() => {\r\n    const resizeW = () => changeDeviceSize(window.innerWidth);\r\n\r\n    window.addEventListener(\"resize\", resizeW); // Update the width on resize\r\n    return () => window.removeEventListener(\"resize\", resizeW);\r\n  });\r\n\r\n  const [writeFood, setWriteFood] = useState(\"\");\r\n  const [foodResults, setFoodResults] = useState([]);\r\n  const [selectedFood, setSelectedFood] = useState(\"\");\r\n  const [specificFood, setSpecificFood] = useState({\r\n    Type: \"\",\r\n    Color: \"\",\r\n    Grape: \"\",\r\n    Year: \"\",\r\n  });\r\n\r\n  const [completeAdd, setCompleteAdd] = useState(false);\r\n  const [change, setChange] = useState(false);\r\n\r\n  const wineYears = [\r\n    \"1950 or oldest\",\r\n    \"1950-1980\",\r\n    \"1980-2000\",\r\n    \"2000-2010\",\r\n    \"2010-2020\",\r\n    \"2020-present\",\r\n  ];\r\n\r\n  // ---------------- Food API Call --------------------\r\n  const findAnyFood = (food) => {\r\n    fetch(\r\n      `https://api.spoonacular.com/recipes/complexSearch?apiKey=27e614b6300f46b38613b4bb811633d0&query=${food}`\r\n    )\r\n      .then((response) => response.json())\r\n      .then((actualData) => {\r\n        console.log(actualData.results);\r\n        var foods = [];\r\n        actualData.results.map((food) => {\r\n          foods.push(food.title + \"*\" + food.id + \"*\" + food.image);\r\n        });\r\n        setFoodResults(foods);\r\n      });\r\n  };\r\n\r\n  const addSpecificFood = () => {\r\n    let newSpecificFood = {\r\n      Types: specificFood.Type,\r\n      Colors: specificFood.Color,\r\n      Grapes: specificFood.Grape,\r\n      Years: specificFood.Year,\r\n      Email: userEmail,\r\n      Name: selectedFood.split(\"*\")[0],\r\n    };\r\n    fetch(\"https://winelovers.herokuapp.com/opinionSpecificFood\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(newSpecificFood),\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        console.log(json);\r\n        setCompleteAdd(true);\r\n      });\r\n  };\r\n\r\n  const clearHandler = () => {\r\n    setCompleteAdd(false);\r\n    setSpecificFood({\r\n      Type: \"\",\r\n      Color: \"\",\r\n      Grape: \"\",\r\n      Year: \"\",\r\n    });\r\n  };\r\n  const aplyHandler = () => {\r\n    addSpecificFood();\r\n  };\r\n  return (\r\n    <div>\r\n      <div>\r\n        {/* <h5>&#8226; Select your favourite food</h5> */}\r\n        <div className=\"helpUsTitleContent\">\r\n          <strong>\r\n            Select the food that you want to pair your wine{\" \"}\r\n            {/* <ImSpoonKnife className=\"reactIcon\" /> */}\r\n          </strong>\r\n\r\n          <div className=\"helpUsTitleContent\">\r\n            <Row>\r\n              <Col xs={deviceSize < 800 ? 7 : 4}>\r\n                <Form.Label>\r\n                  Write&nbsp;&&nbsp;Find&nbsp;your&nbsp;Recipe\r\n                </Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Find any Food\"\r\n                  value={writeFood}\r\n                  onChange={(e) => {\r\n                    setWriteFood(e.target.value);\r\n                    if (e.target.value.length > 2) {\r\n                      findAnyFood(e.target.value);\r\n                    }\r\n                  }}\r\n                />\r\n              </Col>\r\n              <Col xs={deviceSize < 800 ? 7 : 4}>\r\n                <Form.Label>Recipe</Form.Label>\r\n                <Form.Select\r\n                  onChange={(e) => {\r\n                    setSelectedFood(e.target.value);\r\n                    window.scrollTo(0, 500);\r\n                  }}\r\n                >\r\n                  <option value=\"\">Food select</option>\r\n\r\n                  {foodResults.map((food) => (\r\n                    <option value={food}>{food.split(\"*\")[0]}</option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Col>\r\n              <Col xs={1}>\r\n                {!change && (\r\n                  <BsPlusLg\r\n                    className=\"plus-icon\"\r\n                    title=\"Add your Recipe\"\r\n                    onClick={() => {\r\n                      setChange(!change);\r\n                    }}\r\n                  />\r\n                )}\r\n                {change && (\r\n                  <BsXLg\r\n                    className=\"x-icon\"\r\n                    title=\"Add your Recipe\"\r\n                    onClick={() => {\r\n                      setChange(!change);\r\n                    }}\r\n                  />\r\n                )}\r\n              </Col>\r\n            </Row>\r\n\r\n            {change && (\r\n              <Row>\r\n                <Col xs={6}>\r\n                  {\" \"}\r\n                  <Form.Label>Write your own recipe</Form.Label>\r\n                  <Form.Control type=\"email\" placeholder=\"Enter email\" />\r\n                </Col>\r\n              </Row>\r\n            )}\r\n\r\n            <br />\r\n            <Row>\r\n              <Col xs={deviceSize < 500 ? 12 : 10}>\r\n                {selectedFood !== \"\" && (\r\n                  <>\r\n                    <img\r\n                      className=\"imageFood\"\r\n                      src={selectedFood.split(\"*\")[2]}\r\n                    ></img>\r\n                  </>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        </div>\r\n\r\n        {selectedFood !== \"\" && (\r\n          <div className=\"helpUsTitleContent\">\r\n            <p>\r\n              - Wine would you pair with{\" \"}\r\n              <strong>{selectedFood.split(\"*\")[0]}</strong> :{\" \"}\r\n            </p>\r\n\r\n            <div className=\"helpUsTitleContent\">\r\n              <Row>\r\n                <Col xs={deviceSize < 800 ? (deviceSize < 400 ? 12 : 6) : 2}>\r\n                  <Form.Label>Type</Form.Label>\r\n                  <Form.Select\r\n                    size=\"sm\"\r\n                    onChange={(e) => {\r\n                      setSpecificFood({\r\n                        Type: e.target.value,\r\n                        Color: specificFood.Color,\r\n                        Grape: specificFood.Grape,\r\n                        Year: specificFood.Year,\r\n                      });\r\n                    }}\r\n                  >\r\n                    <option\r\n                      value=\"\"\r\n                      selected={specificFood.Type === \"\" ? true : false}\r\n                    >\r\n                      Select Type\r\n                    </option>\r\n                    {typeWines.map((type) => (\r\n                      <option\r\n                        selected={specificFood.Type === type ? true : false}\r\n                      >\r\n                        {type}\r\n                      </option>\r\n                    ))}\r\n                  </Form.Select>\r\n                </Col>\r\n                <Col xs={deviceSize < 800 ? (deviceSize < 400 ? 12 : 6) : 2}>\r\n                  <Form.Label>Color</Form.Label>\r\n                  <Form.Select\r\n                    size=\"sm\"\r\n                    onChange={(e) => {\r\n                      setSpecificFood({\r\n                        Type: specificFood.Type,\r\n                        Color: e.target.value,\r\n                        Grape: specificFood.Grape,\r\n                        Year: specificFood.Year,\r\n                      });\r\n                    }}\r\n                  >\r\n                    <option\r\n                      value=\"\"\r\n                      selected={specificFood.Color === \"\" ? true : false}\r\n                    >\r\n                      Select color\r\n                    </option>\r\n                    {colorWines.map((color) => (\r\n                      <option\r\n                        selected={specificFood.Color === color ? true : false}\r\n                      >\r\n                        {color}\r\n                      </option>\r\n                    ))}\r\n                  </Form.Select>\r\n                </Col>\r\n                <Col xs={deviceSize < 800 ? (deviceSize < 400 ? 12 : 6) : 2}>\r\n                  <Form.Label>Grape</Form.Label>\r\n                  <Form.Select\r\n                    size=\"sm\"\r\n                    onChange={(e) => {\r\n                      setSpecificFood({\r\n                        Type: specificFood.Type,\r\n                        Color: specificFood.Color,\r\n                        Grape: e.target.value,\r\n                        Year: specificFood.Year,\r\n                      });\r\n                    }}\r\n                  >\r\n                    <option\r\n                      value=\"\"\r\n                      selected={specificFood.Grape === \"\" ? true : false}\r\n                    >\r\n                      Select grape\r\n                    </option>\r\n                    {grapeWines.map((grape) => (\r\n                      <option\r\n                        selected={specificFood.Grape === grape ? true : false}\r\n                      >\r\n                        {grape}\r\n                      </option>\r\n                    ))}\r\n                  </Form.Select>\r\n                </Col>\r\n                <Col xs={deviceSize < 800 ? (deviceSize < 400 ? 12 : 6) : 2}>\r\n                  <Form.Label>Year Range</Form.Label>\r\n                  <Form.Select\r\n                    size=\"sm\"\r\n                    onChange={(e) => {\r\n                      setSpecificFood({\r\n                        Type: specificFood.Type,\r\n                        Color: specificFood.Color,\r\n                        Grape: specificFood.Grape,\r\n                        Year: e.target.value,\r\n                      });\r\n                    }}\r\n                  >\r\n                    <option\r\n                      value=\"\"\r\n                      selected={specificFood.Year === \"\" ? true : false}\r\n                    >\r\n                      Select year\r\n                    </option>\r\n                    {wineYears.map((year) => (\r\n                      <option\r\n                        selected={specificFood.Year === year ? true : false}\r\n                      >\r\n                        {year}\r\n                      </option>\r\n                    ))}\r\n                  </Form.Select>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <br />\r\n      <Row>\r\n        <Col xs={1}>\r\n          <Button variant=\"danger\" onClick={clearHandler}>\r\n            Clear\r\n          </Button>{\" \"}\r\n        </Col>\r\n        <Col xs={1}></Col>\r\n        <Col xs={1}>\r\n          <Button\r\n            variant=\"success\"\r\n            onClick={aplyHandler}\r\n            disabled={\r\n              specificFood.Type === \"\" ||\r\n              specificFood.Color === \"\" ||\r\n              specificFood.Grape === \"\" ||\r\n              specificFood.Year === \"\"\r\n            }\r\n          >\r\n            Apply\r\n          </Button>\r\n        </Col>\r\n        {completeAdd && (\r\n          <Col xs={8} className=\"text-center\">\r\n            <Alert variant=\"success\">\r\n              {\" \"}\r\n              Thank you for your help. Your opinion added succesfully.\r\n            </Alert>\r\n          </Col>\r\n        )}\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SpecificFood;\r\n"]},"metadata":{},"sourceType":"module"}