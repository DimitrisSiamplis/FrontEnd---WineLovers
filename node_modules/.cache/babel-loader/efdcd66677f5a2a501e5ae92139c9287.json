{"ast":null,"code":"import _slicedToArray from\"C:/Users/dimitris.siamplis/Desktop/React-Node/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import\"./New.css\";import{Col,NavItem,Row}from\"react-bootstrap\";import{useState,useEffect}from\"react\";import Cookies from\"universal-cookie\";import{BsPlus}from\"react-icons/bs\";import{useHistory}from\"react-router-dom\";import{BiTimeFive}from\"react-icons/bi\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var New=function New(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),news=_useState2[0],setNews=_useState2[1];// ----------- width size -----------------------\nvar _useState3=useState(window.innerWidth),_useState4=_slicedToArray(_useState3,2),deviceSize=_useState4[0],changeDeviceSize=_useState4[1];useEffect(function(){var resizeW=function resizeW(){return changeDeviceSize(window.innerWidth);};window.addEventListener(\"resize\",resizeW);// Update the width on resize\nreturn function(){return window.removeEventListener(\"resize\",resizeW);};});var cookies=new Cookies();var userEmail=cookies.get(\"email\");var history=useHistory();//-------------------- Get news ----------------------------\nvar getNews=function getNews(){fetch(\"https://winelovers.herokuapp.com/getNews\").then(function(res){return res.json();}).then(function(json){console.log(json.news);setNews([json]);});};useEffect(function(){getNews();},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"title\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"container py-4\",children:[/*#__PURE__*/_jsx(\"header\",{class:\"pb-3 mb-4 border-bottom\",children:/*#__PURE__*/_jsx(\"a\",{class:\"d-flex align-items-center text-dark text-decoration-none\",children:/*#__PURE__*/_jsx(\"span\",{class:\"fs-4\",children:\"WineLovers Website\"})})}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"news-container\",children:[userEmail===\"jimarass@hotmail.gr\"&&/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsx(BsPlus,{onClick:function onClick(){history.push(\"/AddNew\");}})}),/*#__PURE__*/_jsx(Row,{children:news.length!==0&&/*#__PURE__*/_jsx(_Fragment,{children:news[0].news.map(function(item){return/*#__PURE__*/_jsx(Col,{xs:deviceSize<1300?deviceSize<700?12:6:4,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{className:\"image-new\",src:item.InitialImage,onClick:function onClick(){history.push(\"/news/\".concat(item._id));}}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",/*#__PURE__*/_jsx(BiTimeFive,{}),\" \",item.newDate.slice(0,10)+\" \"+item.newDate.slice(11,16),/*#__PURE__*/_jsx(\"h5\",{onClick:function onClick(){history.push(\"/news/\".concat(item._id));},className:\"news-title\",children:item.Title})]}),/*#__PURE__*/_jsx(\"br\",{})]})});})})})]})]})});};export default New;","map":{"version":3,"sources":["C:/Users/dimitris.siamplis/Desktop/React-Node/Front-End/src/pages/FooterConteiners/New.js"],"names":["React","Col","NavItem","Row","useState","useEffect","Cookies","BsPlus","useHistory","BiTimeFive","New","news","setNews","window","innerWidth","deviceSize","changeDeviceSize","resizeW","addEventListener","removeEventListener","cookies","userEmail","get","history","getNews","fetch","then","res","json","console","log","push","length","map","item","InitialImage","_id","newDate","slice","Title"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./New.css\";\r\nimport { Col, NavItem, Row } from \"react-bootstrap\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { BsPlus } from \"react-icons/bs\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { BiTimeFive } from \"react-icons/bi\";\r\n\r\nconst New = () => {\r\n  const [news, setNews] = useState([]);\r\n  // ----------- width size -----------------------\r\n  const [deviceSize, changeDeviceSize] = useState(window.innerWidth);\r\n  useEffect(() => {\r\n    const resizeW = () => changeDeviceSize(window.innerWidth);\r\n\r\n    window.addEventListener(\"resize\", resizeW); // Update the width on resize\r\n    return () => window.removeEventListener(\"resize\", resizeW);\r\n  });\r\n  const cookies = new Cookies();\r\n  var userEmail = cookies.get(\"email\");\r\n  let history = useHistory();\r\n\r\n  //-------------------- Get news ----------------------------\r\n  const getNews = () => {\r\n    fetch(\"https://winelovers.herokuapp.com/getNews\")\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        console.log(json.news);\r\n        setNews([json]);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getNews();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"title\">\r\n        <div class=\"container py-4\">\r\n          <header class=\"pb-3 mb-4 border-bottom\">\r\n            <a class=\"d-flex align-items-center text-dark text-decoration-none\">\r\n              <span class=\"fs-4\">WineLovers Website</span>\r\n            </a>\r\n          </header>{\" \"}\r\n        </div>\r\n\r\n        <div className=\"news-container\">\r\n          {userEmail === \"jimarass@hotmail.gr\" && (\r\n            <h2>\r\n              <BsPlus\r\n                onClick={() => {\r\n                  history.push(\"/AddNew\");\r\n                }}\r\n              />\r\n            </h2>\r\n          )}\r\n\r\n          <Row>\r\n            {news.length !== 0 && (\r\n              <>\r\n              \r\n                {news[0].news.map((item) => (\r\n                  <Col xs={deviceSize < 1300 ? (deviceSize < 700 ? 12 : 6) : 4}>\r\n                    <div>\r\n                      <img\r\n                        className=\"image-new\"\r\n                        src={item.InitialImage}\r\n                        onClick={() => {\r\n                          history.push(`/news/${item._id}`);\r\n                        }}\r\n                      ></img>\r\n                      <p>\r\n                        {\" \"}\r\n                        <BiTimeFive />{\" \"}\r\n                        {item.newDate.slice(0, 10) +\r\n                          \" \" +\r\n                          item.newDate.slice(11, 16)}\r\n                        <h5\r\n                          onClick={() => {\r\n                            history.push(`/news/${item._id}`);\r\n                          }}\r\n                          className=\"news-title\"\r\n                        >\r\n                          {item.Title}\r\n                        </h5>\r\n                      </p>\r\n                      <br/>\r\n                    </div>\r\n                  </Col>\r\n                ))}\r\n              </>\r\n            )}\r\n          </Row>\r\n        </div>\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default New;\r\n"]},"metadata":{},"sourceType":"module"}