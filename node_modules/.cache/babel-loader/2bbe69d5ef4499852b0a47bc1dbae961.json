{"ast":null,"code":"import _toConsumableArray from\"C:/Users/dimitris.siamplis/Desktop/React-Node/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/dimitris.siamplis/Desktop/React-Node/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useHistory}from\"react-router-dom\";import{useState,useEffect}from\"react\";import Cookies from\"universal-cookie\";import{FaMapMarkerAlt}from\"react-icons/fa\";import{Button,Container,Row,Col,Form,Modal,Alert,PageItem,Pagination}from\"react-bootstrap\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faCartPlus,faFilter,faStar,faSearchLocation}from\"@fortawesome/free-solid-svg-icons\";import\"./Wines.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Wines=function Wines(){var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),initialWines=_useState2[0],setInitialWines=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),secondaryWines=_useState4[0],setSecondaryWines=_useState4[1];var _useState5=useState([1]),_useState6=_slicedToArray(_useState5,2),pagination=_useState6[0],setPagination=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),pageSelected=_useState8[0],setPageSelected=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),wines=_useState10[0],setWines=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),selectedWineId=_useState12[0],setSelectedWineId=_useState12[1];var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),showFilter=_useState14[0],setShowFilter=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),alreadyExistInCard=_useState16[0],setAlreadyExistInCard=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),succesfullyAddedToCard=_useState18[0],setSuccesfullyAddedToCard=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),colorWines=_useState20[0],setColorWines=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),typeWines=_useState22[0],setTypeWines=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),yearWines=_useState24[0],setYearWines=_useState24[1];// ------------FIlter Hooks -----------------------------\nvar _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),wineSearch=_useState26[0],setWineSearch=_useState26[1];var _useState27=useState(\"\"),_useState28=_slicedToArray(_useState27,2),wineType=_useState28[0],setWineType=_useState28[1];var _useState29=useState(\"\"),_useState30=_slicedToArray(_useState29,2),wineColor=_useState30[0],setWineColor=_useState30[1];var _useState31=useState(\"\"),_useState32=_slicedToArray(_useState31,2),wineYear=_useState32[0],setWineYear=_useState32[1];var _useState33=useState(0),_useState34=_slicedToArray(_useState33,2),minRate=_useState34[0],setMinRate=_useState34[1];var _useState35=useState(5),_useState36=_slicedToArray(_useState35,2),maxRate=_useState36[0],setMaxRate=_useState36[1];var _useState37=useState(),_useState38=_slicedToArray(_useState37,2),maxInitialPrice=_useState38[0],setMaxInitialPrice=_useState38[1];var _useState39=useState(),_useState40=_slicedToArray(_useState39,2),minInitialPrice=_useState40[0],setMinInitialPrice=_useState40[1];var _useState41=useState(),_useState42=_slicedToArray(_useState41,2),maxPrice=_useState42[0],setMaxPrice=_useState42[1];var _useState43=useState(),_useState44=_slicedToArray(_useState43,2),minPrice=_useState44[0],setMinPrice=_useState44[1];var _useState45=useState(false),_useState46=_slicedToArray(_useState45,2),searchByMaxPrice=_useState46[0],setByMaxPrice=_useState46[1];var _useState47=useState(false),_useState48=_slicedToArray(_useState47,2),searchByMaxRate=_useState48[0],setByMaxRate=_useState48[1];// -------- MODAL\nvar _useState49=useState(false),_useState50=_slicedToArray(_useState49,2),show=_useState50[0],setShow=_useState50[1];var _useState51=useState(0),_useState52=_slicedToArray(_useState51,2),amount=_useState52[0],setAmount=_useState52[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};// --------- Set COOKIES\nvar cookies=new Cookies();var user=cookies.get(\"email\");var _window=window,width=_window.innerWidth,height=_window.innerHeight;//------ initial Wines --------------\nvar getWines=function getWines(){fetch(\"http://localhost:4000/getWines\").then(function(res){return res.json();}).then(function(json){console.log(json.wines);setWines([json]);setInitialWines([json]);setSecondaryWines([json]);setPageSelected(1);var colors=[];var types=[];var years=[];var prices=[];for(var key in json.wines){colors.push(json.wines[key].wine.Color);types.push(json.wines[key].wine.Type);years.push(json.wines[key].wine.Year);prices.push(json.wines[key].wine.Price);}setMaxInitialPrice(Math.max.apply(Math,prices));setMinInitialPrice(Math.min.apply(Math,prices));setMinPrice(Math.min.apply(Math,prices));setMaxPrice(Math.max.apply(Math,prices));colors=_toConsumableArray(new Set(colors));types=_toConsumableArray(new Set(types));years=_toConsumableArray(new Set(years));setColorWines(colors);setTypeWines(types);setYearWines(years);});};useEffect(function(){getWines();},[]);// ----------- when wines length Change --------------\nuseEffect(function(){if(wines.length!==0){var paginationArray=[];for(var i=0;i<wines[0].wines.length/5;i++){paginationArray.push(i+1);}setPagination(paginationArray);}},[wines]);// ---------- when page Selected Change ------------\n// useEffect(() => {\n//   var oldWines = wines;\n//   var newWineArray = [];\n//   var newArray = oldWines[0].wines.splice(\n//     (pageSelected - 1) * 5,\n//     pageSelected * 5\n//   );\n//   newWineArray.push({ wines: newArray });\n//   console.log(newWineArray)\n//   // setSecondaryWines(wines.slice((pageSelected - 1) * 5, pageSelected * 5));\n// }, [pageSelected]);\n// ------ FILTER Wines ------------\nvar filterWines=function filterWines(){var oldWines=initialWines;var newWineArray=[];var newArray=oldWines[0].wines.filter(function(el){return el.wine.WineName.includes(wineSearch)&&el.wine.Color.includes(wineColor)&&el.wine.Type.includes(wineType)&&String(el.wine.Year).includes(wineYear)&&el.sum_total_rate<maxRate&&el.sum_total_rate>=minRate&&el.wine.Price<=maxPrice&&el.wine.Price>=minPrice;});if(searchByMaxPrice){newArray.sort(function(a,b){return b.wine.Price-a.wine.Price;});}if(searchByMaxRate){newArray.sort(function(a,b){return b.sum_total_rate-a.sum_total_rate;});}console.log(newArray);newWineArray.push({wines:newArray});setWines(newWineArray);window.scrollTo(0,0);};var onClearHandler=function onClearHandler(){setWineSearch(\"\");setWineType(\"\");setWineColor(\"\");setWineYear(\"\");setMinRate(0);setMaxRate(5);setMaxPrice(maxInitialPrice);setMinPrice(minInitialPrice);setByMaxPrice(false);setByMaxRate(false);setWines(initialWines);window.scrollTo(0,0);};// --------- Add To Card ----------------\nvar onAddToCardHandler=function onAddToCardHandler(wineArray){// ----------- save card details to cookies ---------------\nvar cookies=new Cookies();var isCardEmty=cookies.get(\"card\");if(isCardEmty===\"\"||isCardEmty===undefined){cookies.set(\"card\",wineArray+\",\"+amount,{path:\"/\"});}else{var editedWineArray=wineArray.slice(0,-1);if(isCardEmty.includes(editedWineArray)){setAlreadyExistInCard(true);setTimeout(function(){setAlreadyExistInCard(false);},3000);}else{setSuccesfullyAddedToCard(true);setTimeout(function(){setSuccesfullyAddedToCard(false);},3000);setAlreadyExistInCard(false);var newCardCookie=isCardEmty+\"|\"+wineArray+\",\"+amount;cookies.set(\"card\",newCardCookie,{path:\"/\"});}}setAmount(0);handleClose();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsxs(Modal.Title,{className:\"modalTitle\",children:[\"Add \",/*#__PURE__*/_jsx(\"strong\",{children:selectedWineId.split(\",\")[1]}),\" to Card\"]})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Chooce Amount\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",onChange:function onChange(e){setAmount(e.target.value);},min:\"1\",max:\"20\",placeholder:\"Chooce Amount\"}),(amount===0||amount<0||amount>20)&&/*#__PURE__*/_jsx(\"p\",{className:\"alertMessage\",children:\"Range 1-20 wines!\"})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",disabled:amount===0||amount===\"\"||amount<0||amount>20,onClick:function onClick(){onAddToCardHandler(selectedWineId);},children:\"Add to card\"})]})]})}),succesfullyAddedToCard&&/*#__PURE__*/_jsx(Alert,{className:\"alertCardMessage\",variant:\"success\",children:\"Wine added succesfully to card!\"},\"danger\"),alreadyExistInCard&&/*#__PURE__*/_jsx(Alert,{className:\"alertCardMessage\",variant:\"danger\",children:\"This wine Already Exist in Card!\"},\"danger\"),/*#__PURE__*/_jsxs(\"div\",{className:\"twoDivs\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"showFilters\",icon:faFilter,size:\"2x\",title:showFilter?\"Hide Filters\":\"Show Filters\",onClick:function onClick(){setShowFilter(!showFilter);},transform:{rotate:showFilter?42:0}}),showFilter&&/*#__PURE__*/_jsxs(\"div\",{className:\"filters\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\xA0 Search any wine.\"}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Filter Wine\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Filter Wine\",value:wineSearch,onChange:function onChange(e){setWineSearch(e.target.value);}})]}),/*#__PURE__*/_jsx(Form.Label,{children:\"Wine Type\"}),/*#__PURE__*/_jsxs(Form.Select,{\"aria-label\":\"Default select example\",onChange:function onChange(e){console.log(e.target.value);setWineType(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u039E\\u03B7\\u03C1\\u03BF..\"}),typeWines.map(function(type){return/*#__PURE__*/_jsx(\"option\",{value:type,children:type});})]}),/*#__PURE__*/_jsx(Form.Label,{children:\"Wine Color\"}),/*#__PURE__*/_jsxs(Form.Select,{\"aria-label\":\"Default select example\",onChange:function onChange(e){setWineColor(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Red/White/Roze..\"}),colorWines.map(function(color){return/*#__PURE__*/_jsx(\"option\",{value:color,children:color});})]}),/*#__PURE__*/_jsx(Form.Label,{children:\"Wine Year\"}),/*#__PURE__*/_jsxs(Form.Select,{\"aria-label\":\"Default select example\",onChange:function onChange(e){setWineYear(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"2000/2010/2020..\"}),yearWines.map(function(year){return/*#__PURE__*/_jsx(\"option\",{value:year,children:year});})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{xs:6,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Min Rate Range\"}),/*#__PURE__*/_jsx(Form.Range,{min:\"0\",max:\"5\",value:minRate,onChange:function onChange(e){if(maxRate>e.target.value){setMinRate(e.target.value);}}}),/*#__PURE__*/_jsxs(\"strong\",{children:[minRate,/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"starIcon\",icon:faStar,size:\"1x\"})]})]}),/*#__PURE__*/_jsxs(Col,{xs:6,children:[\" \",/*#__PURE__*/_jsx(Form.Label,{children:\"Max Rate Range\"}),/*#__PURE__*/_jsx(Form.Range,{min:\"0\",max:\"5\",value:maxRate,onChange:function onChange(e){if(minRate<e.target.value){setMaxRate(e.target.value);}}}),/*#__PURE__*/_jsxs(\"strong\",{children:[maxRate,/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"starIcon\",icon:faStar,size:\"1x\"})]})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{xs:6,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Min Price Price\"}),/*#__PURE__*/_jsx(Form.Range,{min:minInitialPrice,max:maxInitialPrice,value:minPrice===minInitialPrice?minInitialPrice:minPrice,onChange:function onChange(e){if(maxPrice>e.target.value){setMinPrice(e.target.value);}}}),/*#__PURE__*/_jsxs(\"strong\",{children:[minPrice,\" \\u20AC\"]})]}),/*#__PURE__*/_jsxs(Col,{xs:6,children:[\" \",/*#__PURE__*/_jsx(Form.Label,{children:\"Max Price Price\"}),/*#__PURE__*/_jsx(Form.Range,{min:minInitialPrice,max:maxInitialPrice,value:maxPrice===maxInitialPrice?maxInitialPrice:maxPrice,onChange:function onChange(e){if(minPrice<e.target.value){setMaxPrice(e.target.value);}}}),/*#__PURE__*/_jsxs(\"strong\",{children:[maxPrice,\" \\u20AC\"]})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"rateCheckBox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:searchByMaxPrice,onChange:function onChange(e){setByMaxPrice(e.target.checked);}}),/*#__PURE__*/_jsx(\"label\",{className:\"rateLabel\",children:\"\\xA0Search\\xA0by\\xA0max\\xA0price.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rateCheckBox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:searchByMaxRate,onChange:function onChange(e){setByMaxRate(e.target.checked);}}),/*#__PURE__*/_jsx(\"label\",{className:\"rateLabel\",children:\"\\xA0Search\\xA0by\\xA0max\\xA0rate.\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{xs:4,children:/*#__PURE__*/_jsx(Button,{variant:\"warning\",onClick:onClearHandler,children:\"Clear\"})}),/*#__PURE__*/_jsx(Col,{xs:6,children:/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:filterWines,children:\"Search\"})})]}),\"\\xA0\"]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(Container,{children:[wines.length!==0&&/*#__PURE__*/_jsx(Row,{children:wines[0].wines.map(function(item){return/*#__PURE__*/_jsx(Col,{xs:width<1000?width<700?12:6:4,children:wines.length!==0&&/*#__PURE__*/_jsx(Container,{className:\"item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card card-body wine\"// onClick={() => {\n//   console.log(item.wine._id);\n//   history.push(\"/wine/\" + item.wine._id);\n// }}\n,children:/*#__PURE__*/_jsxs(\"div\",{className:\"media align-items-center align-items-lg-start text-center text-lg-left flex-column flex-lg-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mr-2 mb-3 mb-lg-0\",children:/*#__PURE__*/_jsx(\"img\",{className:\"image\",src:item.wine.ImageUrl})}),/*#__PURE__*/_jsxs(\"div\",{className:\"media-body\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"media-title font-weight-semibold\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"/wine/\".concat(item.wine._id),\"data-abc\":\"true\",children:[\" \",item.wine.WineName]})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-inline list-inline-dotted mb-3 mb-lg-2\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-muted\",\"data-abc\":\"true\",children:item.wine.Type})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-muted\",\"data-abc\":\"true\",children:item.wine.Color})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-muted\",\"data-abc\":\"true\",children:item.wine.Year})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"#\",className:\"text-muted\",\"data-abc\":\"true\",children:[/*#__PURE__*/_jsx(FaMapMarkerAlt,{}),\"\\xA0\",item.wine.Location,\" , \",item.wine.Country]})})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-inline list-inline-dotted mb-0\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"list-inline-item\",children:[\" \",/*#__PURE__*/_jsx(\"strong\",{children:\"Grape : \"}),\" \",item.wine.Grapes,\" \"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-inline-item\",children:[\" \",/*#__PURE__*/_jsx(\"strong\",{children:\"Winery by\"}),\" \",/*#__PURE__*/_jsxs(\"a\",{target:\"_blank\",href:\"https://www.google.com/search?q=\".concat(item.wine.Winery),\"data-abc\":\"true\",children:[\" \",item.wine.Winery,\" \"]})]}),/*#__PURE__*/_jsx(\"br\",{})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 mt-lg-0 ml-lg-3 text-center\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"mb-0 font-weight-semibold\",children:[item.wine.Price,\" \\u20AC\"]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-0 font-weight-semibold\",children:[\" \",Math.round(item.sum_total_rate*100)/100,\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"starIcon\",icon:faStar,size:\"1x\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-muted\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-star checked\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-muted\",children:[\" \",item.number_of_rate,\" reviews\",\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted\",children:\" \"}),/*#__PURE__*/_jsx(Button,{variant:\"warning\",title:\"Add to Card\",onClick:function onClick(){setSelectedWineId(item.wine._id+\",\"+item.wine.WineName+\",\"+item.wine._id+\",\"+item.wine.Color+\",\"+item.wine.Type+\",\"+item.wine.Price+\",\"+item.wine.ImageUrl);handleShow(item.wine._id);},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCartPlus,size:\"1x\"})})]})]})})})});})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Pagination,{children:[/*#__PURE__*/_jsx(Pagination.First,{}),/*#__PURE__*/_jsx(Pagination.Prev,{}),pagination.map(function(page){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Pagination.Item,{active:page===pageSelected?true:false,onClick:function onClick(){setPageSelected(page);},children:page})});}),/*#__PURE__*/_jsx(Pagination.Next,{}),/*#__PURE__*/_jsx(Pagination.Last,{})]})]})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]});};export default Wines;","map":{"version":3,"sources":["C:/Users/dimitris.siamplis/Desktop/React-Node/Front-End/src/pages/Wines.js"],"names":["React","useHistory","useState","useEffect","Cookies","FaMapMarkerAlt","Button","Container","Row","Col","Form","Modal","Alert","PageItem","Pagination","FontAwesomeIcon","faCartPlus","faFilter","faStar","faSearchLocation","Wines","history","initialWines","setInitialWines","secondaryWines","setSecondaryWines","pagination","setPagination","pageSelected","setPageSelected","wines","setWines","selectedWineId","setSelectedWineId","showFilter","setShowFilter","alreadyExistInCard","setAlreadyExistInCard","succesfullyAddedToCard","setSuccesfullyAddedToCard","colorWines","setColorWines","typeWines","setTypeWines","yearWines","setYearWines","wineSearch","setWineSearch","wineType","setWineType","wineColor","setWineColor","wineYear","setWineYear","minRate","setMinRate","maxRate","setMaxRate","maxInitialPrice","setMaxInitialPrice","minInitialPrice","setMinInitialPrice","maxPrice","setMaxPrice","minPrice","setMinPrice","searchByMaxPrice","setByMaxPrice","searchByMaxRate","setByMaxRate","show","setShow","amount","setAmount","handleClose","handleShow","cookies","user","get","window","width","innerWidth","height","innerHeight","getWines","fetch","then","res","json","console","log","colors","types","years","prices","key","push","wine","Color","Type","Year","Price","Math","max","apply","min","Set","length","paginationArray","i","filterWines","oldWines","newWineArray","newArray","filter","el","WineName","includes","String","sum_total_rate","sort","a","b","scrollTo","onClearHandler","onAddToCardHandler","wineArray","isCardEmty","undefined","set","path","editedWineArray","slice","setTimeout","newCardCookie","split","e","target","value","rotate","map","type","color","year","checked","item","ImageUrl","_id","Location","Country","Grapes","Winery","round","number_of_rate","page"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { FaMapMarkerAlt } from \"react-icons/fa\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Form,\r\n  Modal,\r\n  Alert,\r\n  PageItem,\r\n  Pagination,\r\n} from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faCartPlus,\r\n  faFilter,\r\n  faStar,\r\n  faSearchLocation,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport \"./Wines.css\";\r\n\r\nconst Wines = () => {\r\n  let history = useHistory();\r\n\r\n  const [initialWines, setInitialWines] = useState([]);\r\n  const [secondaryWines, setSecondaryWines] = useState([]);\r\n  const [pagination, setPagination] = useState([1]);\r\n  const [pageSelected, setPageSelected] = useState(1);\r\n  const [wines, setWines] = useState([]);\r\n  const [selectedWineId, setSelectedWineId] = useState(\"\");\r\n  const [showFilter, setShowFilter] = useState(true);\r\n  const [alreadyExistInCard, setAlreadyExistInCard] = useState(false);\r\n  const [succesfullyAddedToCard, setSuccesfullyAddedToCard] = useState(false);\r\n\r\n  const [colorWines, setColorWines] = useState([]);\r\n  const [typeWines, setTypeWines] = useState([]);\r\n  const [yearWines, setYearWines] = useState([]);\r\n\r\n  // ------------FIlter Hooks -----------------------------\r\n  const [wineSearch, setWineSearch] = useState(\"\");\r\n  const [wineType, setWineType] = useState(\"\");\r\n  const [wineColor, setWineColor] = useState(\"\");\r\n  const [wineYear, setWineYear] = useState(\"\");\r\n  const [minRate, setMinRate] = useState(0);\r\n  const [maxRate, setMaxRate] = useState(5);\r\n  const [maxInitialPrice, setMaxInitialPrice] = useState();\r\n  const [minInitialPrice, setMinInitialPrice] = useState();\r\n  const [maxPrice, setMaxPrice] = useState();\r\n  const [minPrice, setMinPrice] = useState();\r\n\r\n  const [searchByMaxPrice, setByMaxPrice] = useState(false);\r\n  const [searchByMaxRate, setByMaxRate] = useState(false);\r\n\r\n  // -------- MODAL\r\n  const [show, setShow] = useState(false);\r\n  const [amount, setAmount] = useState(0);\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  // --------- Set COOKIES\r\n  const cookies = new Cookies();\r\n  var user = cookies.get(\"email\");\r\n\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n\r\n  //------ initial Wines --------------\r\n  const getWines = () => {\r\n    fetch(\"http://localhost:4000/getWines\")\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        console.log(json.wines);\r\n\r\n        setWines([json]);\r\n        setInitialWines([json]);\r\n        setSecondaryWines([json]);\r\n        setPageSelected(1);\r\n        var colors = [];\r\n        var types = [];\r\n        var years = [];\r\n        var prices = [];\r\n        for (const key in json.wines) {\r\n          colors.push(json.wines[key].wine.Color);\r\n          types.push(json.wines[key].wine.Type);\r\n          years.push(json.wines[key].wine.Year);\r\n          prices.push(json.wines[key].wine.Price);\r\n        }\r\n        setMaxInitialPrice(Math.max.apply(Math, prices));\r\n        setMinInitialPrice(Math.min.apply(Math, prices));\r\n        setMinPrice(Math.min.apply(Math, prices));\r\n        setMaxPrice(Math.max.apply(Math, prices));\r\n        colors = [...new Set(colors)];\r\n        types = [...new Set(types)];\r\n        years = [...new Set(years)];\r\n        setColorWines(colors);\r\n        setTypeWines(types);\r\n        setYearWines(years);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getWines();\r\n  }, []);\r\n\r\n  // ----------- when wines length Change --------------\r\n  useEffect(() => {\r\n    if (wines.length !== 0) {\r\n      var paginationArray = [];\r\n      for (let i = 0; i < wines[0].wines.length / 5; i++) {\r\n        paginationArray.push(i + 1);\r\n      }\r\n\r\n      setPagination(paginationArray);\r\n    }\r\n  }, [wines]);\r\n\r\n  // ---------- when page Selected Change ------------\r\n  // useEffect(() => {\r\n  //   var oldWines = wines;\r\n  //   var newWineArray = [];\r\n  //   var newArray = oldWines[0].wines.splice(\r\n  //     (pageSelected - 1) * 5,\r\n  //     pageSelected * 5\r\n  //   );\r\n  //   newWineArray.push({ wines: newArray });\r\n  //   console.log(newWineArray)\r\n  //   // setSecondaryWines(wines.slice((pageSelected - 1) * 5, pageSelected * 5));\r\n  // }, [pageSelected]);\r\n\r\n  // ------ FILTER Wines ------------\r\n  const filterWines = () => {\r\n    var oldWines = initialWines;\r\n\r\n    var newWineArray = [];\r\n    var newArray = oldWines[0].wines.filter(function (el) {\r\n      return (\r\n        el.wine.WineName.includes(wineSearch) &&\r\n        el.wine.Color.includes(wineColor) &&\r\n        el.wine.Type.includes(wineType) &&\r\n        String(el.wine.Year).includes(wineYear) &&\r\n        el.sum_total_rate < maxRate &&\r\n        el.sum_total_rate >= minRate &&\r\n        el.wine.Price <= maxPrice &&\r\n        el.wine.Price >= minPrice\r\n      );\r\n    });\r\n\r\n    if (searchByMaxPrice) {\r\n      newArray.sort((a, b) => {\r\n        return b.wine.Price - a.wine.Price;\r\n      });\r\n    }\r\n\r\n    if (searchByMaxRate) {\r\n      newArray.sort((a, b) => {\r\n        return b.sum_total_rate - a.sum_total_rate;\r\n      });\r\n    }\r\n    console.log(newArray);\r\n\r\n    newWineArray.push({ wines: newArray });\r\n    setWines(newWineArray);\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  const onClearHandler = () => {\r\n    setWineSearch(\"\");\r\n    setWineType(\"\");\r\n    setWineColor(\"\");\r\n    setWineYear(\"\");\r\n    setMinRate(0);\r\n    setMaxRate(5);\r\n    setMaxPrice(maxInitialPrice);\r\n    setMinPrice(minInitialPrice);\r\n    setByMaxPrice(false);\r\n    setByMaxRate(false);\r\n    setWines(initialWines);\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  // --------- Add To Card ----------------\r\n\r\n  const onAddToCardHandler = (wineArray) => {\r\n    // ----------- save card details to cookies ---------------\r\n    const cookies = new Cookies();\r\n    var isCardEmty = cookies.get(\"card\");\r\n\r\n    if (isCardEmty === \"\" || isCardEmty === undefined) {\r\n      cookies.set(\"card\", wineArray + \",\" + amount, { path: \"/\" });\r\n    } else {\r\n      var editedWineArray = wineArray.slice(0, -1);\r\n      if (isCardEmty.includes(editedWineArray)) {\r\n        setAlreadyExistInCard(true);\r\n        setTimeout(() => {\r\n          setAlreadyExistInCard(false);\r\n        }, 3000);\r\n      } else {\r\n        setSuccesfullyAddedToCard(true);\r\n        setTimeout(() => {\r\n          setSuccesfullyAddedToCard(false);\r\n        }, 3000);\r\n        setAlreadyExistInCard(false);\r\n        var newCardCookie = isCardEmty + \"|\" + wineArray + \",\" + amount;\r\n        cookies.set(\"card\", newCardCookie, { path: \"/\" });\r\n      }\r\n    }\r\n    setAmount(0);\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <>\r\n        <Modal show={show} onHide={handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title className=\"modalTitle\">\r\n              Add <strong>{selectedWineId.split(\",\")[1]}</strong> to Card\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Form.Label>Chooce Amount</Form.Label>\r\n            <Form.Control\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                setAmount(e.target.value);\r\n              }}\r\n              min=\"1\"\r\n              max=\"20\"\r\n              placeholder=\"Chooce Amount\"\r\n            />\r\n            {(amount === 0 || amount < 0 || amount > 20) && (\r\n              <p className=\"alertMessage\">Range 1-20 wines!</p>\r\n            )}\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={handleClose}>\r\n              Close\r\n            </Button>\r\n            <Button\r\n              variant=\"primary\"\r\n              disabled={\r\n                amount === 0 || amount === \"\" || amount < 0 || amount > 20\r\n              }\r\n              onClick={() => {\r\n                onAddToCardHandler(selectedWineId);\r\n              }}\r\n            >\r\n              Add to card\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </>\r\n      {succesfullyAddedToCard && (\r\n        <Alert className=\"alertCardMessage\" key=\"danger\" variant=\"success\">\r\n          Wine added succesfully to card!\r\n        </Alert>\r\n      )}\r\n      {alreadyExistInCard && (\r\n        <Alert className=\"alertCardMessage\" key=\"danger\" variant=\"danger\">\r\n          This wine Already Exist in Card!\r\n        </Alert>\r\n      )}\r\n      <div className=\"twoDivs\">\r\n        <FontAwesomeIcon\r\n          className=\"showFilters\"\r\n          icon={faFilter}\r\n          size=\"2x\"\r\n          title={showFilter ? \"Hide Filters\" : \"Show Filters\"}\r\n          onClick={() => {\r\n            setShowFilter(!showFilter);\r\n          }}\r\n          transform={{ rotate: showFilter ? 42 : 0 }}\r\n        />\r\n        {showFilter && (\r\n          <div className=\"filters\">\r\n            <h4>&nbsp; Search any wine.</h4>\r\n\r\n            <Container>\r\n              <Row>\r\n                <Form>\r\n                  <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n                    <Form.Label>Filter Wine</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Filter Wine\"\r\n                      value={wineSearch}\r\n                      onChange={(e) => {\r\n                        setWineSearch(e.target.value);\r\n                      }}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Label>Wine Type</Form.Label>\r\n                  <Form.Select\r\n                    aria-label=\"Default select example\"\r\n                    onChange={(e) => {\r\n                      console.log(e.target.value);\r\n                      setWineType(e.target.value);\r\n                    }}\r\n                  >\r\n                    <option value=\"\">Ξηρο..</option>\r\n                    {typeWines.map((type) => (\r\n                      <option value={type}>{type}</option>\r\n                    ))}\r\n                  </Form.Select>\r\n                  <Form.Label>Wine Color</Form.Label>\r\n                  <Form.Select\r\n                    aria-label=\"Default select example\"\r\n                    onChange={(e) => {\r\n                      setWineColor(e.target.value);\r\n                    }}\r\n                  >\r\n                    <option value=\"\">Red/White/Roze..</option>\r\n                    {colorWines.map((color) => (\r\n                      <option value={color}>{color}</option>\r\n                    ))}\r\n                  </Form.Select>\r\n                  <Form.Label>Wine Year</Form.Label>\r\n                  <Form.Select\r\n                    aria-label=\"Default select example\"\r\n                    onChange={(e) => {\r\n                      setWineYear(e.target.value);\r\n                    }}\r\n                  >\r\n                    <option value=\"\">2000/2010/2020..</option>\r\n                    {yearWines.map((year) => (\r\n                      <option value={year}>{year}</option>\r\n                    ))}\r\n                  </Form.Select>\r\n                  <br />\r\n                  <Row>\r\n                    <Col xs={6}>\r\n                      <Form.Label>Min Rate Range</Form.Label>\r\n                      <Form.Range\r\n                        min=\"0\"\r\n                        max=\"5\"\r\n                        value={minRate}\r\n                        onChange={(e) => {\r\n                          if (maxRate > e.target.value) {\r\n                            setMinRate(e.target.value);\r\n                          }\r\n                        }}\r\n                      />\r\n                      <strong>\r\n                        {minRate}\r\n                        <FontAwesomeIcon\r\n                          className=\"starIcon\"\r\n                          icon={faStar}\r\n                          size=\"1x\"\r\n                        />\r\n                      </strong>\r\n                    </Col>\r\n\r\n                    <Col xs={6}>\r\n                      {\" \"}\r\n                      <Form.Label>Max Rate Range</Form.Label>\r\n                      <Form.Range\r\n                        min=\"0\"\r\n                        max=\"5\"\r\n                        value={maxRate}\r\n                        onChange={(e) => {\r\n                          if (minRate < e.target.value) {\r\n                            setMaxRate(e.target.value);\r\n                          }\r\n                        }}\r\n                      />\r\n                      <strong>\r\n                        {maxRate}\r\n                        <FontAwesomeIcon\r\n                          className=\"starIcon\"\r\n                          icon={faStar}\r\n                          size=\"1x\"\r\n                        />\r\n                      </strong>\r\n                    </Col>\r\n                  </Row>\r\n                  <br />\r\n                  <Row>\r\n                    <Col xs={6}>\r\n                      <Form.Label>Min Price Price</Form.Label>\r\n                      <Form.Range\r\n                        min={minInitialPrice}\r\n                        max={maxInitialPrice}\r\n                        value={\r\n                          minPrice === minInitialPrice\r\n                            ? minInitialPrice\r\n                            : minPrice\r\n                        }\r\n                        onChange={(e) => {\r\n                          if (maxPrice > e.target.value) {\r\n                            setMinPrice(e.target.value);\r\n                          }\r\n                        }}\r\n                      />\r\n                      <strong>{minPrice} €</strong>\r\n                    </Col>\r\n                    <Col xs={6}>\r\n                      {\" \"}\r\n                      <Form.Label>Max Price Price</Form.Label>\r\n                      <Form.Range\r\n                        min={minInitialPrice}\r\n                        max={maxInitialPrice}\r\n                        value={\r\n                          maxPrice === maxInitialPrice\r\n                            ? maxInitialPrice\r\n                            : maxPrice\r\n                        }\r\n                        onChange={(e) => {\r\n                          if (minPrice < e.target.value) {\r\n                            setMaxPrice(e.target.value);\r\n                          }\r\n                        }}\r\n                      />\r\n                      <strong>{maxPrice} €</strong>\r\n                    </Col>\r\n                  </Row>\r\n                  <br />\r\n                  <hr />\r\n                  <div className=\"rateCheckBox\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={searchByMaxPrice}\r\n                      onChange={(e) => {\r\n                        setByMaxPrice(e.target.checked);\r\n                      }}\r\n                    />\r\n                    <label className=\"rateLabel\">\r\n                      &nbsp;Search&nbsp;by&nbsp;max&nbsp;price.\r\n                    </label>\r\n                  </div>\r\n                  <div className=\"rateCheckBox\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={searchByMaxRate}\r\n                      onChange={(e) => {\r\n                        setByMaxRate(e.target.checked);\r\n                      }}\r\n                    />\r\n                    <label className=\"rateLabel\">\r\n                      &nbsp;Search&nbsp;by&nbsp;max&nbsp;rate.\r\n                    </label>\r\n                  </div>\r\n                  <br />\r\n                  <br />\r\n                  <Row>\r\n                    <Col xs={4}>\r\n                      <Button variant=\"warning\" onClick={onClearHandler}>\r\n                        Clear\r\n                      </Button>\r\n                    </Col>\r\n                    <Col xs={6}>\r\n                      <Button variant=\"success\" onClick={filterWines}>\r\n                        Search\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                  &nbsp;\r\n                </Form>\r\n              </Row>\r\n            </Container>\r\n          </div>\r\n        )}\r\n        <div className=\"container\">\r\n          <Container>\r\n            {wines.length !== 0 && (\r\n              <Row>\r\n                {/* <Col xs={2}></Col>\r\n                <Col xs={10}></Col> */}\r\n                {wines[0].wines.map((item) => (\r\n                  <Col xs={width < 1000 ? (width < 700 ? 12 : 6) : 4}>\r\n                    {wines.length !== 0 && (\r\n                      <Container className=\"item\">\r\n                        <div\r\n                          className=\"card card-body wine\"\r\n                          // onClick={() => {\r\n                          //   console.log(item.wine._id);\r\n                          //   history.push(\"/wine/\" + item.wine._id);\r\n                          // }}\r\n                        >\r\n                          <div className=\"media align-items-center align-items-lg-start text-center text-lg-left flex-column flex-lg-row\">\r\n                            <div className=\"mr-2 mb-3 mb-lg-0\">\r\n                              <img className=\"image\" src={item.wine.ImageUrl} />\r\n                            </div>\r\n                            <div className=\"media-body\">\r\n                              <h6 className=\"media-title font-weight-semibold\">\r\n                                <a\r\n                                  href={`/wine/${item.wine._id}`}\r\n                                  data-abc=\"true\"\r\n                                >\r\n                                  {\" \"}\r\n                                  {item.wine.WineName}\r\n                                </a>\r\n                              </h6>\r\n                              <ul className=\"list-inline list-inline-dotted mb-3 mb-lg-2\">\r\n                                <li className=\"list-inline-item\">\r\n                                  <a\r\n                                    href=\"#\"\r\n                                    className=\"text-muted\"\r\n                                    data-abc=\"true\"\r\n                                  >\r\n                                    {item.wine.Type}\r\n                                  </a>\r\n                                </li>\r\n                                <li className=\"list-inline-item\">\r\n                                  <a\r\n                                    href=\"#\"\r\n                                    className=\"text-muted\"\r\n                                    data-abc=\"true\"\r\n                                  >\r\n                                    {item.wine.Color}\r\n                                  </a>\r\n                                </li>\r\n                                <li className=\"list-inline-item\">\r\n                                  <a\r\n                                    href=\"#\"\r\n                                    className=\"text-muted\"\r\n                                    data-abc=\"true\"\r\n                                  >\r\n                                    {item.wine.Year}\r\n                                  </a>\r\n                                </li>\r\n                                <br />\r\n                                <li className=\"list-inline-item\">\r\n                                  <a\r\n                                    href=\"#\"\r\n                                    className=\"text-muted\"\r\n                                    data-abc=\"true\"\r\n                                  >\r\n                                    <FaMapMarkerAlt />&nbsp;\r\n                                    {item.wine.Location} , {item.wine.Country}\r\n                                  </a>\r\n                                </li>\r\n                              </ul>\r\n                              {/* <p className=\"mb-3\">\r\n                                {item.wine.WineDescription}\r\n                              </p> */}\r\n                              <ul className=\"list-inline list-inline-dotted mb-0\">\r\n                                <li className=\"list-inline-item\">\r\n                                  {\" \"}\r\n                                  <strong>Grape : </strong> {item.wine.Grapes}{\" \"}\r\n                                </li>\r\n                                <br />\r\n                                <li className=\"list-inline-item\">\r\n                                  {\" \"}\r\n                                  <strong>Winery by</strong>{\" \"}\r\n                                  <a\r\n                                    target=\"_blank\"\r\n                                    href={`https://www.google.com/search?q=${item.wine.Winery}`}\r\n                                    data-abc=\"true\"\r\n                                  >\r\n                                    {\" \"}\r\n                                    {item.wine.Winery}{\" \"}\r\n                                  </a>\r\n                                </li>\r\n                                <br />\r\n                              </ul>\r\n                            </div>\r\n                            <div className=\"mt-3 mt-lg-0 ml-lg-3 text-center\">\r\n                              <h3 className=\"mb-0 font-weight-semibold\">\r\n                                {item.wine.Price} €\r\n                              </h3>\r\n                              <h6 className=\"mb-0 font-weight-semibold\">\r\n                                {\" \"}\r\n                                {Math.round(item.sum_total_rate * 100) /\r\n                                  100}{\" \"}\r\n                                <FontAwesomeIcon\r\n                                  className=\"starIcon\"\r\n                                  icon={faStar}\r\n                                  size=\"1x\"\r\n                                />\r\n                              </h6>\r\n                              <div className=\"text-muted\">\r\n                                {\" \"}\r\n                                <span className=\"fa fa-star checked\"></span>{\" \"}\r\n                              </div>\r\n                              <div className=\"text-muted\">\r\n                                {\" \"}\r\n                                {item.number_of_rate} reviews{\" \"}\r\n                              </div>\r\n                              <div className=\"text-muted\"> </div>\r\n\r\n                              <Button\r\n                                variant=\"warning\"\r\n                                title=\"Add to Card\"\r\n                                onClick={() => {\r\n                                  setSelectedWineId(\r\n                                    item.wine._id +\r\n                                      \",\" +\r\n                                      item.wine.WineName +\r\n                                      \",\" +\r\n                                      item.wine._id +\r\n                                      \",\" +\r\n                                      item.wine.Color +\r\n                                      \",\" +\r\n                                      item.wine.Type +\r\n                                      \",\" +\r\n                                      item.wine.Price +\r\n                                      \",\" +\r\n                                      item.wine.ImageUrl\r\n                                  );\r\n                                  handleShow(item.wine._id);\r\n                                }}\r\n                              >\r\n                                <FontAwesomeIcon icon={faCartPlus} size=\"1x\" />\r\n                              </Button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </Container>\r\n                    )}\r\n                  </Col>\r\n                ))}\r\n              </Row>\r\n            )}\r\n            <br />\r\n            <br />\r\n            <Pagination>\r\n              <Pagination.First />\r\n              <Pagination.Prev />\r\n              {pagination.map((page) => (\r\n                <div>\r\n                  <Pagination.Item\r\n                    active={page === pageSelected ? true : false}\r\n                    onClick={() => {\r\n                      setPageSelected(page);\r\n                    }}\r\n                  >\r\n                    {page}\r\n                  </Pagination.Item>\r\n                </div>\r\n              ))}\r\n\r\n              <Pagination.Next />\r\n              <Pagination.Last />\r\n            </Pagination>\r\n          </Container>\r\n        </div>\r\n      </div>\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wines;\r\n"]},"metadata":{},"sourceType":"module"}