{"ast":null,"code":"import _slicedToArray from\"C:/Users/dimitris.siamplis/Desktop/React-Node/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import\"./ChangePassword.css\";import{Alert}from\"react-bootstrap\";import{useState}from\"react\";import Cookies from\"universal-cookie\";import{AiOutlineMail}from\"react-icons/ai\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChangePassword=function ChangePassword(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),newPassword=_useState2[0],setNewPassword=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),newConfirmPassword=_useState4[0],setNewConfirmPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),successfullyChanged=_useState6[0],setSuccessfullyChanged=_useState6[1];var cookies=new Cookies();var userEmail=cookies.get(\"email\");var changePassword=function changePassword(){setSuccessfullyChanged(false);var passwordDetails={newPassword:newPassword,newConfirmPassword:newConfirmPassword,userEmail:userEmail};fetch(\"https://winelovers.herokuapp.com/changePassword\",{method:\"POST\",body:JSON.stringify(passwordDetails),headers:{\"Content-Type\":\"application/json\"}}).then(function(res){return res.json();}).then(function(json){setSuccessfullyChanged(true);console.log(json);});};var onChangeHandler=function onChangeHandler(){console.log(newPassword,newConfirmPassword,userEmail);changePassword();setNewPassword(\"\");setNewConfirmPassword(\"\");};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"mainDiv\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cardStyle\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"formTitle\",children:\"Login to your account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputDiv\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"inputLabel\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{value:newPassword,type:\"password\",id:\"password\",onChange:function onChange(e){setNewPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputDiv\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"inputLabel\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{value:newConfirmPassword,type:\"password\",id:\"confirmPassword\",onChange:function onChange(e){setNewConfirmPassword(e.target.value);}}),newPassword!==\"\"&&newPassword.length<5&&/*#__PURE__*/_jsxs(\"p\",{className:\"alertMessage\",children:[\"Password must be more than \",/*#__PURE__*/_jsx(\"strong\",{children:\"5 characters!\"}),\" \"]}),newPassword!==\"\"&&newPassword!==newConfirmPassword&&/*#__PURE__*/_jsx(\"p\",{className:\"alertMessage\",children:\"Passwords do not matched!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttonWrapper\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",id:\"submitButton\",disabled:newPassword!==\"\"&&newPassword!==newConfirmPassword||newPassword.length<5||newPassword===\"\",onClick:onChangeHandler,className:\"submitButton pure-button pure-button-primary\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Continue to Change\"})}),/*#__PURE__*/_jsx(\"br\",{}),successfullyChanged&&/*#__PURE__*/_jsxs(Alert,{variant:\"success\",children:[\" \",/*#__PURE__*/_jsx(AiOutlineMail,{className:\"history-icon\"}),\" Your Password successfully changed!\",\" \"]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]})})});};export default ChangePassword;","map":{"version":3,"sources":["C:/Users/dimitris.siamplis/Desktop/React-Node/Front-End/src/pages/ChangePassword.js"],"names":["React","Alert","useState","Cookies","AiOutlineMail","ChangePassword","newPassword","setNewPassword","newConfirmPassword","setNewConfirmPassword","successfullyChanged","setSuccessfullyChanged","cookies","userEmail","get","changePassword","passwordDetails","fetch","method","body","JSON","stringify","headers","then","res","json","console","log","onChangeHandler","e","target","value","length"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./ChangePassword.css\";\r\nimport { Alert } from \"react-bootstrap\";\r\nimport { useState } from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { AiOutlineMail } from \"react-icons/ai\";\r\n\r\nconst ChangePassword = () => {\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [newConfirmPassword, setNewConfirmPassword] = useState(\"\");\r\n  const [successfullyChanged, setSuccessfullyChanged] = useState(false);\r\n  const cookies = new Cookies();\r\n  var userEmail = cookies.get(\"email\");\r\n\r\n  const changePassword = () => {\r\n    setSuccessfullyChanged(false);\r\n    let passwordDetails = {\r\n      newPassword: newPassword,\r\n      newConfirmPassword: newConfirmPassword,\r\n      userEmail: userEmail,\r\n    };\r\n    fetch(\"https://winelovers.herokuapp.com/changePassword\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(passwordDetails),\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        setSuccessfullyChanged(true);\r\n        console.log(json);\r\n      });\r\n  };\r\n\r\n  const onChangeHandler = () => {\r\n    console.log(newPassword, newConfirmPassword, userEmail);\r\n    changePassword();\r\n    setNewPassword(\"\");\r\n    setNewConfirmPassword(\"\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mainDiv\">\r\n        <div className=\"cardStyle\">\r\n          <h2 className=\"formTitle\">Login to your account</h2>\r\n\r\n          <div className=\"inputDiv\">\r\n            <label className=\"inputLabel\">New Password</label>\r\n            <input\r\n              value={newPassword}\r\n              type=\"password\"\r\n              id=\"password\"\r\n              onChange={(e) => {\r\n                setNewPassword(e.target.value);\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"inputDiv\">\r\n            <label className=\"inputLabel\">Confirm Password</label>\r\n            <input\r\n              value={newConfirmPassword}\r\n              type=\"password\"\r\n              id=\"confirmPassword\"\r\n              onChange={(e) => {\r\n                setNewConfirmPassword(e.target.value);\r\n              }}\r\n            />\r\n            {newPassword !== \"\" && newPassword.length < 5 && (\r\n              <p className=\"alertMessage\">\r\n                Password must be more than <strong>5 characters!</strong>{\" \"}\r\n              </p>\r\n            )}\r\n\r\n            {newPassword !== \"\" && newPassword !== newConfirmPassword && (\r\n              <p className=\"alertMessage\">Passwords do not matched!</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"buttonWrapper\">\r\n            <button\r\n              type=\"submit\"\r\n              id=\"submitButton\"\r\n              disabled={\r\n                (newPassword !== \"\" && newPassword !== newConfirmPassword) ||\r\n                newPassword.length < 5 ||\r\n                newPassword === \"\"\r\n              }\r\n              onClick={onChangeHandler}\r\n              className=\"submitButton pure-button pure-button-primary\"\r\n            >\r\n              <span>Continue to Change</span>\r\n            </button>\r\n            <br />\r\n            {successfullyChanged && (\r\n              <Alert variant=\"success\">\r\n                {\" \"}\r\n                <AiOutlineMail className=\"history-icon\" /> Your Password\r\n                successfully changed!{\" \"}\r\n              </Alert>\r\n            )}\r\n          </div>\r\n\r\n          <br />\r\n          <br />\r\n          <br />\r\n          <br />\r\n          <br />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangePassword;\r\n"]},"metadata":{},"sourceType":"module"}