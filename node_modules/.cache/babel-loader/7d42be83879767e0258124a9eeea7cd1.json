{"ast":null,"code":"import _toConsumableArray from\"C:/Users/dimitris.siamplis/Desktop/React-Node/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/dimitris.siamplis/Desktop/React-Node/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useHistory}from\"react-router-dom\";import{useState,useEffect}from\"react\";import Cookies from\"universal-cookie\";import{FaMapMarkerAlt}from\"react-icons/fa\";import{Button,Container,Row,Col,Form,Modal,Alert,PageItem,Pagination}from\"react-bootstrap\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faCartPlus,faFilter,faStar,faSearchLocation}from\"@fortawesome/free-solid-svg-icons\";import\"./Wines.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Wines=function Wines(){var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),initialWines=_useState2[0],setInitialWines=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),wines=_useState4[0],setWines=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),selectedWineId=_useState6[0],setSelectedWineId=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),showFilter=_useState8[0],setShowFilter=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),alreadyExistInCard=_useState10[0],setAlreadyExistInCard=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),succesfullyAddedToCard=_useState12[0],setSuccesfullyAddedToCard=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),colorWines=_useState14[0],setColorWines=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),typeWines=_useState16[0],setTypeWines=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),yearWines=_useState18[0],setYearWines=_useState18[1];// ------------FIlter Hooks -----------------------------\nvar _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),wineSearch=_useState20[0],setWineSearch=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),wineType=_useState22[0],setWineType=_useState22[1];var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),wineColor=_useState24[0],setWineColor=_useState24[1];var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),wineYear=_useState26[0],setWineYear=_useState26[1];var _useState27=useState(0),_useState28=_slicedToArray(_useState27,2),minRate=_useState28[0],setMinRate=_useState28[1];var _useState29=useState(5),_useState30=_slicedToArray(_useState29,2),maxRate=_useState30[0],setMaxRate=_useState30[1];var _useState31=useState(),_useState32=_slicedToArray(_useState31,2),maxInitialPrice=_useState32[0],setMaxInitialPrice=_useState32[1];var _useState33=useState(),_useState34=_slicedToArray(_useState33,2),minInitialPrice=_useState34[0],setMinInitialPrice=_useState34[1];var _useState35=useState(),_useState36=_slicedToArray(_useState35,2),maxPrice=_useState36[0],setMaxPrice=_useState36[1];var _useState37=useState(),_useState38=_slicedToArray(_useState37,2),minPrice=_useState38[0],setMinPrice=_useState38[1];var _useState39=useState(false),_useState40=_slicedToArray(_useState39,2),searchByMaxPrice=_useState40[0],setByMaxPrice=_useState40[1];var _useState41=useState(false),_useState42=_slicedToArray(_useState41,2),searchByMaxRate=_useState42[0],setByMaxRate=_useState42[1];// -------- MODAL\nvar _useState43=useState(false),_useState44=_slicedToArray(_useState43,2),show=_useState44[0],setShow=_useState44[1];var _useState45=useState(0),_useState46=_slicedToArray(_useState45,2),amount=_useState46[0],setAmount=_useState46[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};// --------- Set COOKIES\nvar cookies=new Cookies();var user=cookies.get(\"email\");var _window=window,width=_window.innerWidth,height=_window.innerHeight;// ----------------- Pagination ---------------------\nvar _useState47=useState(1),_useState48=_slicedToArray(_useState47,2),numberOfPage=_useState48[0],setNumberOfPage=_useState48[1];var _useState49=useState([1]),_useState50=_slicedToArray(_useState49,2),pages=_useState50[0],setPages=_useState50[1];var _useState51=useState(1),_useState52=_slicedToArray(_useState51,2),currentPage=_useState52[0],setCurrentPage=_useState52[1];var numberOfWinesPerPage=3;// ----------- when wines length Change --------------\nuseEffect(function(){if(wines.length!==0){setNumberOfPage(Math.floor(wines[0].wines.length/numberOfWinesPerPage+1));console.log(Math.floor(wines[0].wines.length/numberOfWinesPerPage+1));}},[wines]);// ----------- when numberOfWinesPerPage Change -------------------\nuseEffect(function(){var testArray=[];for(var i=1;i<=numberOfPage;i++){testArray.push(i);}setPages(testArray);setCurrentPage(1);},[numberOfPage]);// ----------- click on page-----------------------\nvar clickOnPage=function clickOnPage(page){setCurrentPage(page);window.scrollTo(0,0);};// ----------- click on next page --------------\nvar clickOnNextPage=function clickOnNextPage(){if(currentPage!==pages.length){setCurrentPage(currentPage+1);}window.scrollTo(0,0);};// ----------- click on Prev page --------------\nvar clickOnPrevPage=function clickOnPrevPage(){if(currentPage!==1){setCurrentPage(currentPage-1);}window.scrollTo(0,0);};//------ initial Wines --------------\nvar getWines=function getWines(){fetch(\"https://winelovers.herokuapp.com/getWines\").then(function(res){return res.json();}).then(function(json){console.log(json.wines);setWines([json]);setInitialWines([json]);var colors=[];var types=[];var years=[];var prices=[];for(var key in json.wines){colors.push(json.wines[key].wine.Color);types.push(json.wines[key].wine.Type);years.push(json.wines[key].wine.Year);prices.push(json.wines[key].wine.Price);}setMaxInitialPrice(Math.max.apply(Math,prices));setMinInitialPrice(Math.min.apply(Math,prices));setMinPrice(Math.min.apply(Math,prices));setMaxPrice(Math.max.apply(Math,prices));colors=_toConsumableArray(new Set(colors));types=_toConsumableArray(new Set(types));years=_toConsumableArray(new Set(years));setColorWines(colors);setTypeWines(types);setYearWines(years);});};useEffect(function(){getWines();},[]);// ----------- when wines length Change --------------\nuseEffect(function(){if(wines.length!==0){}},[wines]);// ------ FILTER Wines ------------\nvar filterWines=function filterWines(){var oldWines=initialWines;var newWineArray=[];var newArray=oldWines[0].wines.filter(function(el){return el.wine.WineName.includes(wineSearch)&&el.wine.Color.includes(wineColor)&&el.wine.Type.includes(wineType)&&String(el.wine.Year).includes(wineYear)&&el.sum_total_rate<maxRate&&el.sum_total_rate>=minRate&&el.wine.Price<=maxPrice&&el.wine.Price>=minPrice;});if(searchByMaxPrice){newArray.sort(function(a,b){return b.wine.Price-a.wine.Price;});}if(searchByMaxRate){newArray.sort(function(a,b){return b.sum_total_rate-a.sum_total_rate;});}console.log(newArray);newWineArray.push({wines:newArray});setWines(newWineArray);window.scrollTo(0,0);};var onClearHandler=function onClearHandler(){setWineSearch(\"\");setWineType(\"\");setWineColor(\"\");setWineYear(\"\");setMinRate(0);setMaxRate(5);setMaxPrice(maxInitialPrice);setMinPrice(minInitialPrice);setByMaxPrice(false);setByMaxRate(false);setWines(initialWines);window.scrollTo(0,0);};// --------- Add To Card ----------------\nvar onAddToCardHandler=function onAddToCardHandler(wineArray){// ----------- save card details to cookies ---------------\nvar cookies=new Cookies();var isCardEmty=cookies.get(\"card\");if(isCardEmty===\"\"||isCardEmty===undefined){cookies.set(\"card\",wineArray+\",\"+amount,{path:\"/\"});}else{var editedWineArray=wineArray.slice(0,-1);if(isCardEmty.includes(editedWineArray)){setAlreadyExistInCard(true);setTimeout(function(){setAlreadyExistInCard(false);},3000);}else{setSuccesfullyAddedToCard(true);setTimeout(function(){setSuccesfullyAddedToCard(false);},3000);setAlreadyExistInCard(false);var newCardCookie=isCardEmty+\"|\"+wineArray+\",\"+amount;cookies.set(\"card\",newCardCookie,{path:\"/\"});}}setAmount(0);handleClose();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsxs(Modal.Title,{className:\"modalTitle\",children:[\"Add \",/*#__PURE__*/_jsx(\"strong\",{children:selectedWineId.split(\",\")[1]}),\" to Card\"]})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Chooce Amount\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",onChange:function onChange(e){setAmount(e.target.value);},min:\"1\",max:\"20\",placeholder:\"Chooce Amount\"}),(amount===0||amount<0||amount>20)&&/*#__PURE__*/_jsx(\"p\",{className:\"alertMessage\",children:\"Range 1-20 wines!\"})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",disabled:amount===0||amount===\"\"||amount<0||amount>20,onClick:function onClick(){onAddToCardHandler(selectedWineId);},children:\"Add to card\"})]})]})}),succesfullyAddedToCard&&/*#__PURE__*/_jsx(Alert,{className:\"alertCardMessage\",variant:\"success\",children:\"Wine added succesfully to card!\"},\"danger\"),alreadyExistInCard&&/*#__PURE__*/_jsx(Alert,{className:\"alertCardMessage\",variant:\"danger\",children:\"This wine Already Exist in Card!\"},\"danger\"),/*#__PURE__*/_jsxs(\"div\",{className:\"twoDivs\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"showFilters\",icon:faFilter,size:\"2x\",title:showFilter?\"Hide Filters\":\"Show Filters\",onClick:function onClick(){setShowFilter(!showFilter);},transform:{rotate:showFilter?42:0}}),showFilter&&/*#__PURE__*/_jsxs(\"div\",{className:\"filters\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\xA0 Search any wine.\"}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Filter Wine\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Filter Wine\",value:wineSearch,onChange:function onChange(e){setWineSearch(e.target.value);}})]}),/*#__PURE__*/_jsx(Form.Label,{children:\"Wine Type\"}),/*#__PURE__*/_jsxs(Form.Select,{\"aria-label\":\"Default select example\",onChange:function onChange(e){console.log(e.target.value);setWineType(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u039E\\u03B7\\u03C1\\u03BF..\"}),typeWines.map(function(type){return/*#__PURE__*/_jsx(\"option\",{value:type,children:type});})]}),/*#__PURE__*/_jsx(Form.Label,{children:\"Wine Color\"}),/*#__PURE__*/_jsxs(Form.Select,{\"aria-label\":\"Default select example\",onChange:function onChange(e){setWineColor(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Red/White/Roze..\"}),colorWines.map(function(color){return/*#__PURE__*/_jsx(\"option\",{value:color,children:color});})]}),/*#__PURE__*/_jsx(Form.Label,{children:\"Wine Year\"}),/*#__PURE__*/_jsxs(Form.Select,{\"aria-label\":\"Default select example\",onChange:function onChange(e){setWineYear(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"2000/2010/2020..\"}),yearWines.map(function(year){return/*#__PURE__*/_jsx(\"option\",{value:year,children:year});})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{xs:6,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Min Rate Range\"}),/*#__PURE__*/_jsx(Form.Range,{min:\"0\",max:\"5\",value:minRate,onChange:function onChange(e){if(maxRate>e.target.value){setMinRate(e.target.value);}}}),/*#__PURE__*/_jsxs(\"strong\",{children:[minRate,/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"starIcon\",icon:faStar,size:\"1x\"})]})]}),/*#__PURE__*/_jsxs(Col,{xs:6,children:[\" \",/*#__PURE__*/_jsx(Form.Label,{children:\"Max Rate Range\"}),/*#__PURE__*/_jsx(Form.Range,{min:\"0\",max:\"5\",value:maxRate,onChange:function onChange(e){if(minRate<e.target.value){setMaxRate(e.target.value);}}}),/*#__PURE__*/_jsxs(\"strong\",{children:[maxRate,/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"starIcon\",icon:faStar,size:\"1x\"})]})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{xs:6,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Min Price Price\"}),/*#__PURE__*/_jsx(Form.Range,{min:minInitialPrice,max:maxInitialPrice,value:minPrice===minInitialPrice?minInitialPrice:minPrice,onChange:function onChange(e){if(maxPrice>e.target.value){setMinPrice(e.target.value);}}}),/*#__PURE__*/_jsxs(\"strong\",{children:[minPrice,\" \\u20AC\"]})]}),/*#__PURE__*/_jsxs(Col,{xs:6,children:[\" \",/*#__PURE__*/_jsx(Form.Label,{children:\"Max Price Price\"}),/*#__PURE__*/_jsx(Form.Range,{min:minInitialPrice,max:maxInitialPrice,value:maxPrice===maxInitialPrice?maxInitialPrice:maxPrice,onChange:function onChange(e){if(minPrice<e.target.value){setMaxPrice(e.target.value);}}}),/*#__PURE__*/_jsxs(\"strong\",{children:[maxPrice,\" \\u20AC\"]})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"rateCheckBox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:searchByMaxPrice,onChange:function onChange(e){setByMaxPrice(e.target.checked);}}),/*#__PURE__*/_jsx(\"label\",{className:\"rateLabel\",children:\"\\xA0Search\\xA0by\\xA0max\\xA0price.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rateCheckBox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:searchByMaxRate,onChange:function onChange(e){setByMaxRate(e.target.checked);}}),/*#__PURE__*/_jsx(\"label\",{className:\"rateLabel\",children:\"\\xA0Search\\xA0by\\xA0max\\xA0rate.\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{xs:4,children:/*#__PURE__*/_jsx(Button,{variant:\"warning\",onClick:onClearHandler,children:\"Clear\"})}),/*#__PURE__*/_jsx(Col,{xs:6,children:/*#__PURE__*/_jsx(Button,{variant:\"success\",onClick:filterWines,children:\"Search\"})})]}),\"\\xA0\"]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(Container,{children:[wines.length!==0&&/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"box-pagination\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){clickOnPrevPage();},children:\"<\"})}),pages.map(function(page){return/*#__PURE__*/_jsx(\"div\",{className:page===currentPage?\"page-selected\":\"page\",children:/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){clickOnPage(page);},children:page})});}),/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){clickOnNextPage();},children:\">\"})})]}),wines[0].wines.slice(numberOfWinesPerPage*(currentPage-1),numberOfWinesPerPage*currentPage).map(function(item){return/*#__PURE__*/_jsx(Col,{xs:width<1000?width<700?12:6:4,children:wines.length!==0&&/*#__PURE__*/_jsx(Container,{className:\"item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card card-body wine\"// onClick={() => {\n//   console.log(item.wine._id);\n//   history.push(\"/wine/\" + item.wine._id);\n// }}\n,children:/*#__PURE__*/_jsxs(\"div\",{className:\"media align-items-center align-items-lg-start text-center text-lg-left flex-column flex-lg-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mr-2 mb-3 mb-lg-0\",children:/*#__PURE__*/_jsx(\"img\",{className:\"image\",src:item.wine.ImageUrl})}),/*#__PURE__*/_jsxs(\"div\",{className:\"media-body\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"media-title font-weight-semibold\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"/wine/\".concat(item.wine._id),\"data-abc\":\"true\",children:[\" \",item.wine.WineName]})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-inline list-inline-dotted mb-3 mb-lg-2\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-muted\",\"data-abc\":\"true\",children:item.wine.Type})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-muted\",\"data-abc\":\"true\",children:item.wine.Color})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-muted\",\"data-abc\":\"true\",children:item.wine.Year})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"#\",className:\"text-muted\",\"data-abc\":\"true\",children:[/*#__PURE__*/_jsx(FaMapMarkerAlt,{}),\"\\xA0\",item.wine.Location,\" , \",item.wine.Country]})})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-inline list-inline-dotted mb-0\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"list-inline-item\",children:[\" \",/*#__PURE__*/_jsx(\"strong\",{children:\"Grape : \"}),\" \",item.wine.Grapes,\" \"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-inline-item\",children:[\" \",/*#__PURE__*/_jsx(\"strong\",{children:\"Winery by\"}),\" \",/*#__PURE__*/_jsxs(\"a\",{target:\"_blank\",href:\"https://www.google.com/search?q=\".concat(item.wine.Winery),\"data-abc\":\"true\",children:[\" \",item.wine.Winery,\" \"]})]}),/*#__PURE__*/_jsx(\"br\",{})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 mt-lg-0 ml-lg-3 text-center\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"mb-0 font-weight-semibold\",children:[item.wine.Price,\" \\u20AC\"]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"mb-0 font-weight-semibold\",children:[\" \",Math.round(item.sum_total_rate*100)/100,\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"starIcon\",icon:faStar,size:\"1x\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-muted\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-star checked\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-muted\",children:[\" \",item.number_of_rate,\" reviews\",\" \"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted\",children:\" \"}),/*#__PURE__*/_jsx(Button,{variant:\"warning\",title:\"Add to Card\",onClick:function onClick(){setSelectedWineId(item.wine._id+\",\"+item.wine.WineName+\",\"+item.wine._id+\",\"+item.wine.Color+\",\"+item.wine.Type+\",\"+item.wine.Price+\",\"+item.wine.ImageUrl);handleShow(item.wine._id);},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCartPlus,size:\"1x\"})})]})]})})})});})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]});};export default Wines;","map":{"version":3,"sources":["C:/Users/dimitris.siamplis/Desktop/React-Node/Front-End/src/pages/Wines.js"],"names":["React","useHistory","useState","useEffect","Cookies","FaMapMarkerAlt","Button","Container","Row","Col","Form","Modal","Alert","PageItem","Pagination","FontAwesomeIcon","faCartPlus","faFilter","faStar","faSearchLocation","Wines","history","initialWines","setInitialWines","wines","setWines","selectedWineId","setSelectedWineId","showFilter","setShowFilter","alreadyExistInCard","setAlreadyExistInCard","succesfullyAddedToCard","setSuccesfullyAddedToCard","colorWines","setColorWines","typeWines","setTypeWines","yearWines","setYearWines","wineSearch","setWineSearch","wineType","setWineType","wineColor","setWineColor","wineYear","setWineYear","minRate","setMinRate","maxRate","setMaxRate","maxInitialPrice","setMaxInitialPrice","minInitialPrice","setMinInitialPrice","maxPrice","setMaxPrice","minPrice","setMinPrice","searchByMaxPrice","setByMaxPrice","searchByMaxRate","setByMaxRate","show","setShow","amount","setAmount","handleClose","handleShow","cookies","user","get","window","width","innerWidth","height","innerHeight","numberOfPage","setNumberOfPage","pages","setPages","currentPage","setCurrentPage","numberOfWinesPerPage","length","Math","floor","console","log","testArray","i","push","clickOnPage","page","scrollTo","clickOnNextPage","clickOnPrevPage","getWines","fetch","then","res","json","colors","types","years","prices","key","wine","Color","Type","Year","Price","max","apply","min","Set","filterWines","oldWines","newWineArray","newArray","filter","el","WineName","includes","String","sum_total_rate","sort","a","b","onClearHandler","onAddToCardHandler","wineArray","isCardEmty","undefined","set","path","editedWineArray","slice","setTimeout","newCardCookie","split","e","target","value","rotate","map","type","color","year","checked","item","ImageUrl","_id","Location","Country","Grapes","Winery","round","number_of_rate"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { FaMapMarkerAlt } from \"react-icons/fa\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Form,\r\n  Modal,\r\n  Alert,\r\n  PageItem,\r\n  Pagination,\r\n} from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faCartPlus,\r\n  faFilter,\r\n  faStar,\r\n  faSearchLocation,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport \"./Wines.css\";\r\n\r\nconst Wines = () => {\r\n  let history = useHistory();\r\n\r\n  const [initialWines, setInitialWines] = useState([]);\r\n\r\n  const [wines, setWines] = useState([]);\r\n  const [selectedWineId, setSelectedWineId] = useState(\"\");\r\n  const [showFilter, setShowFilter] = useState(true);\r\n  const [alreadyExistInCard, setAlreadyExistInCard] = useState(false);\r\n  const [succesfullyAddedToCard, setSuccesfullyAddedToCard] = useState(false);\r\n\r\n  const [colorWines, setColorWines] = useState([]);\r\n  const [typeWines, setTypeWines] = useState([]);\r\n  const [yearWines, setYearWines] = useState([]);\r\n\r\n  // ------------FIlter Hooks -----------------------------\r\n  const [wineSearch, setWineSearch] = useState(\"\");\r\n  const [wineType, setWineType] = useState(\"\");\r\n  const [wineColor, setWineColor] = useState(\"\");\r\n  const [wineYear, setWineYear] = useState(\"\");\r\n  const [minRate, setMinRate] = useState(0);\r\n  const [maxRate, setMaxRate] = useState(5);\r\n  const [maxInitialPrice, setMaxInitialPrice] = useState();\r\n  const [minInitialPrice, setMinInitialPrice] = useState();\r\n  const [maxPrice, setMaxPrice] = useState();\r\n  const [minPrice, setMinPrice] = useState();\r\n\r\n  const [searchByMaxPrice, setByMaxPrice] = useState(false);\r\n  const [searchByMaxRate, setByMaxRate] = useState(false);\r\n\r\n  // -------- MODAL\r\n  const [show, setShow] = useState(false);\r\n  const [amount, setAmount] = useState(0);\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  // --------- Set COOKIES\r\n  const cookies = new Cookies();\r\n  var user = cookies.get(\"email\");\r\n\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n\r\n  // ----------------- Pagination ---------------------\r\n  const [numberOfPage, setNumberOfPage] = useState(1);\r\n  const [pages, setPages] = useState([1]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  var numberOfWinesPerPage = 3;\r\n\r\n  // ----------- when wines length Change --------------\r\n  useEffect(() => {\r\n    if (wines.length !== 0) {\r\n      setNumberOfPage(\r\n        Math.floor(wines[0].wines.length / numberOfWinesPerPage + 1)\r\n      );\r\n      console.log(Math.floor(wines[0].wines.length / numberOfWinesPerPage + 1));\r\n    }\r\n  }, [wines]);\r\n\r\n  // ----------- when numberOfWinesPerPage Change -------------------\r\n  useEffect(() => {\r\n    var testArray = [];\r\n    for (let i = 1; i <= numberOfPage; i++) {\r\n      testArray.push(i);\r\n    }\r\n    setPages(testArray);\r\n    setCurrentPage(1);\r\n  }, [numberOfPage]);\r\n\r\n  // ----------- click on page-----------------------\r\n\r\n  const clickOnPage = (page) => {\r\n    setCurrentPage(page);\r\n    \r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  // ----------- click on next page --------------\r\n  const clickOnNextPage = () => {\r\n    if (currentPage !== pages.length) {\r\n      setCurrentPage(currentPage + 1);\r\n    }\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  // ----------- click on Prev page --------------\r\n  const clickOnPrevPage = () => {\r\n    if (currentPage !== 1) {\r\n      setCurrentPage(currentPage - 1);\r\n    }\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  //------ initial Wines --------------\r\n  const getWines = () => {\r\n    fetch(\"https://winelovers.herokuapp.com/getWines\")\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        console.log(json.wines);\r\n\r\n        setWines([json]);\r\n        setInitialWines([json]);\r\n\r\n        var colors = [];\r\n        var types = [];\r\n        var years = [];\r\n        var prices = [];\r\n        for (const key in json.wines) {\r\n          colors.push(json.wines[key].wine.Color);\r\n          types.push(json.wines[key].wine.Type);\r\n          years.push(json.wines[key].wine.Year);\r\n          prices.push(json.wines[key].wine.Price);\r\n        }\r\n        setMaxInitialPrice(Math.max.apply(Math, prices));\r\n        setMinInitialPrice(Math.min.apply(Math, prices));\r\n        setMinPrice(Math.min.apply(Math, prices));\r\n        setMaxPrice(Math.max.apply(Math, prices));\r\n        colors = [...new Set(colors)];\r\n        types = [...new Set(types)];\r\n        years = [...new Set(years)];\r\n        setColorWines(colors);\r\n        setTypeWines(types);\r\n        setYearWines(years);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getWines();\r\n  }, []);\r\n\r\n  // ----------- when wines length Change --------------\r\n  useEffect(() => {\r\n    if (wines.length !== 0) {\r\n    }\r\n  }, [wines]);\r\n\r\n  // ------ FILTER Wines ------------\r\n  const filterWines = () => {\r\n    var oldWines = initialWines;\r\n\r\n    var newWineArray = [];\r\n    var newArray = oldWines[0].wines.filter(function (el) {\r\n      return (\r\n        el.wine.WineName.includes(wineSearch) &&\r\n        el.wine.Color.includes(wineColor) &&\r\n        el.wine.Type.includes(wineType) &&\r\n        String(el.wine.Year).includes(wineYear) &&\r\n        el.sum_total_rate < maxRate &&\r\n        el.sum_total_rate >= minRate &&\r\n        el.wine.Price <= maxPrice &&\r\n        el.wine.Price >= minPrice\r\n      );\r\n    });\r\n\r\n    if (searchByMaxPrice) {\r\n      newArray.sort((a, b) => {\r\n        return b.wine.Price - a.wine.Price;\r\n      });\r\n    }\r\n\r\n    if (searchByMaxRate) {\r\n      newArray.sort((a, b) => {\r\n        return b.sum_total_rate - a.sum_total_rate;\r\n      });\r\n    }\r\n    console.log(newArray);\r\n\r\n    newWineArray.push({ wines: newArray });\r\n    setWines(newWineArray);\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  const onClearHandler = () => {\r\n    setWineSearch(\"\");\r\n    setWineType(\"\");\r\n    setWineColor(\"\");\r\n    setWineYear(\"\");\r\n    setMinRate(0);\r\n    setMaxRate(5);\r\n    setMaxPrice(maxInitialPrice);\r\n    setMinPrice(minInitialPrice);\r\n    setByMaxPrice(false);\r\n    setByMaxRate(false);\r\n    setWines(initialWines);\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  // --------- Add To Card ----------------\r\n\r\n  const onAddToCardHandler = (wineArray) => {\r\n    // ----------- save card details to cookies ---------------\r\n    const cookies = new Cookies();\r\n    var isCardEmty = cookies.get(\"card\");\r\n\r\n    if (isCardEmty === \"\" || isCardEmty === undefined) {\r\n      cookies.set(\"card\", wineArray + \",\" + amount, { path: \"/\" });\r\n    } else {\r\n      var editedWineArray = wineArray.slice(0, -1);\r\n      if (isCardEmty.includes(editedWineArray)) {\r\n        setAlreadyExistInCard(true);\r\n        setTimeout(() => {\r\n          setAlreadyExistInCard(false);\r\n        }, 3000);\r\n      } else {\r\n        setSuccesfullyAddedToCard(true);\r\n        setTimeout(() => {\r\n          setSuccesfullyAddedToCard(false);\r\n        }, 3000);\r\n        setAlreadyExistInCard(false);\r\n        var newCardCookie = isCardEmty + \"|\" + wineArray + \",\" + amount;\r\n        cookies.set(\"card\", newCardCookie, { path: \"/\" });\r\n      }\r\n    }\r\n    setAmount(0);\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <>\r\n        <Modal show={show} onHide={handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title className=\"modalTitle\">\r\n              Add <strong>{selectedWineId.split(\",\")[1]}</strong> to Card\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <Form.Label>Chooce Amount</Form.Label>\r\n            <Form.Control\r\n              type=\"number\"\r\n              onChange={(e) => {\r\n                setAmount(e.target.value);\r\n              }}\r\n              min=\"1\"\r\n              max=\"20\"\r\n              placeholder=\"Chooce Amount\"\r\n            />\r\n            {(amount === 0 || amount < 0 || amount > 20) && (\r\n              <p className=\"alertMessage\">Range 1-20 wines!</p>\r\n            )}\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={handleClose}>\r\n              Close\r\n            </Button>\r\n            <Button\r\n              variant=\"primary\"\r\n              disabled={\r\n                amount === 0 || amount === \"\" || amount < 0 || amount > 20\r\n              }\r\n              onClick={() => {\r\n                onAddToCardHandler(selectedWineId);\r\n              }}\r\n            >\r\n              Add to card\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </>\r\n      {succesfullyAddedToCard && (\r\n        <Alert className=\"alertCardMessage\" key=\"danger\" variant=\"success\">\r\n          Wine added succesfully to card!\r\n        </Alert>\r\n      )}\r\n      {alreadyExistInCard && (\r\n        <Alert className=\"alertCardMessage\" key=\"danger\" variant=\"danger\">\r\n          This wine Already Exist in Card!\r\n        </Alert>\r\n      )}\r\n      <div className=\"twoDivs\">\r\n        <FontAwesomeIcon\r\n          className=\"showFilters\"\r\n          icon={faFilter}\r\n          size=\"2x\"\r\n          title={showFilter ? \"Hide Filters\" : \"Show Filters\"}\r\n          onClick={() => {\r\n            setShowFilter(!showFilter);\r\n          }}\r\n          transform={{ rotate: showFilter ? 42 : 0 }}\r\n        />\r\n        {showFilter && (\r\n          <div className=\"filters\">\r\n            <h4>&nbsp; Search any wine.</h4>\r\n\r\n            <Container>\r\n              <Row>\r\n                <Form>\r\n                  <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n                    <Form.Label>Filter Wine</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      placeholder=\"Filter Wine\"\r\n                      value={wineSearch}\r\n                      onChange={(e) => {\r\n                        setWineSearch(e.target.value);\r\n                      }}\r\n                    />\r\n                  </Form.Group>\r\n                  <Form.Label>Wine Type</Form.Label>\r\n                  <Form.Select\r\n                    aria-label=\"Default select example\"\r\n                    onChange={(e) => {\r\n                      console.log(e.target.value);\r\n                      setWineType(e.target.value);\r\n                    }}\r\n                  >\r\n                    <option value=\"\">Ξηρο..</option>\r\n                    {typeWines.map((type) => (\r\n                      <option value={type}>{type}</option>\r\n                    ))}\r\n                  </Form.Select>\r\n                  <Form.Label>Wine Color</Form.Label>\r\n                  <Form.Select\r\n                    aria-label=\"Default select example\"\r\n                    onChange={(e) => {\r\n                      setWineColor(e.target.value);\r\n                    }}\r\n                  >\r\n                    <option value=\"\">Red/White/Roze..</option>\r\n                    {colorWines.map((color) => (\r\n                      <option value={color}>{color}</option>\r\n                    ))}\r\n                  </Form.Select>\r\n                  <Form.Label>Wine Year</Form.Label>\r\n                  <Form.Select\r\n                    aria-label=\"Default select example\"\r\n                    onChange={(e) => {\r\n                      setWineYear(e.target.value);\r\n                    }}\r\n                  >\r\n                    <option value=\"\">2000/2010/2020..</option>\r\n                    {yearWines.map((year) => (\r\n                      <option value={year}>{year}</option>\r\n                    ))}\r\n                  </Form.Select>\r\n                  <br />\r\n                  <Row>\r\n                    <Col xs={6}>\r\n                      <Form.Label>Min Rate Range</Form.Label>\r\n                      <Form.Range\r\n                        min=\"0\"\r\n                        max=\"5\"\r\n                        value={minRate}\r\n                        onChange={(e) => {\r\n                          if (maxRate > e.target.value) {\r\n                            setMinRate(e.target.value);\r\n                          }\r\n                        }}\r\n                      />\r\n                      <strong>\r\n                        {minRate}\r\n                        <FontAwesomeIcon\r\n                          className=\"starIcon\"\r\n                          icon={faStar}\r\n                          size=\"1x\"\r\n                        />\r\n                      </strong>\r\n                    </Col>\r\n\r\n                    <Col xs={6}>\r\n                      {\" \"}\r\n                      <Form.Label>Max Rate Range</Form.Label>\r\n                      <Form.Range\r\n                        min=\"0\"\r\n                        max=\"5\"\r\n                        value={maxRate}\r\n                        onChange={(e) => {\r\n                          if (minRate < e.target.value) {\r\n                            setMaxRate(e.target.value);\r\n                          }\r\n                        }}\r\n                      />\r\n                      <strong>\r\n                        {maxRate}\r\n                        <FontAwesomeIcon\r\n                          className=\"starIcon\"\r\n                          icon={faStar}\r\n                          size=\"1x\"\r\n                        />\r\n                      </strong>\r\n                    </Col>\r\n                  </Row>\r\n                  <br />\r\n                  <Row>\r\n                    <Col xs={6}>\r\n                      <Form.Label>Min Price Price</Form.Label>\r\n                      <Form.Range\r\n                        min={minInitialPrice}\r\n                        max={maxInitialPrice}\r\n                        value={\r\n                          minPrice === minInitialPrice\r\n                            ? minInitialPrice\r\n                            : minPrice\r\n                        }\r\n                        onChange={(e) => {\r\n                          if (maxPrice > e.target.value) {\r\n                            setMinPrice(e.target.value);\r\n                          }\r\n                        }}\r\n                      />\r\n                      <strong>{minPrice} €</strong>\r\n                    </Col>\r\n                    <Col xs={6}>\r\n                      {\" \"}\r\n                      <Form.Label>Max Price Price</Form.Label>\r\n                      <Form.Range\r\n                        min={minInitialPrice}\r\n                        max={maxInitialPrice}\r\n                        value={\r\n                          maxPrice === maxInitialPrice\r\n                            ? maxInitialPrice\r\n                            : maxPrice\r\n                        }\r\n                        onChange={(e) => {\r\n                          if (minPrice < e.target.value) {\r\n                            setMaxPrice(e.target.value);\r\n                          }\r\n                        }}\r\n                      />\r\n                      <strong>{maxPrice} €</strong>\r\n                    </Col>\r\n                  </Row>\r\n                  <br />\r\n                  <hr />\r\n                  <div className=\"rateCheckBox\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={searchByMaxPrice}\r\n                      onChange={(e) => {\r\n                        setByMaxPrice(e.target.checked);\r\n                      }}\r\n                    />\r\n                    <label className=\"rateLabel\">\r\n                      &nbsp;Search&nbsp;by&nbsp;max&nbsp;price.\r\n                    </label>\r\n                  </div>\r\n                  <div className=\"rateCheckBox\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={searchByMaxRate}\r\n                      onChange={(e) => {\r\n                        setByMaxRate(e.target.checked);\r\n                      }}\r\n                    />\r\n                    <label className=\"rateLabel\">\r\n                      &nbsp;Search&nbsp;by&nbsp;max&nbsp;rate.\r\n                    </label>\r\n                  </div>\r\n                  <br />\r\n                  <br />\r\n                  <Row>\r\n                    <Col xs={4}>\r\n                      <Button variant=\"warning\" onClick={onClearHandler}>\r\n                        Clear\r\n                      </Button>\r\n                    </Col>\r\n                    <Col xs={6}>\r\n                      <Button variant=\"success\" onClick={filterWines}>\r\n                        Search\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                  &nbsp;\r\n                </Form>\r\n              </Row>\r\n            </Container>\r\n          </div>\r\n        )}\r\n        <div className=\"container\">\r\n          <Container>\r\n            {wines.length !== 0 && (\r\n              <Row>\r\n                <div className=\"box-pagination\">\r\n                  <div className=\"page\">\r\n                    <p\r\n                      onClick={() => {\r\n                        clickOnPrevPage();\r\n                      }}\r\n                    >\r\n                      &lt;\r\n                    </p>\r\n                  </div>\r\n                  {pages.map((page) => (\r\n                    <div\r\n                      className={\r\n                        page === currentPage ? \"page-selected\" : \"page\"\r\n                      }\r\n                    >\r\n                      <p\r\n                        onClick={() => {\r\n                          clickOnPage(page);\r\n                        }}\r\n                      >\r\n                        {page}\r\n                      </p>\r\n                    </div>\r\n                  ))}\r\n                  <div className=\"page\">\r\n                    <p\r\n                      onClick={() => {\r\n                        clickOnNextPage();\r\n                      }}\r\n                    >\r\n                      &gt;\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                {wines[0].wines\r\n                  .slice(\r\n                    numberOfWinesPerPage * (currentPage - 1),\r\n                    numberOfWinesPerPage * currentPage\r\n                  )\r\n                  .map((item) => (\r\n                    <Col xs={width < 1000 ? (width < 700 ? 12 : 6) : 4}>\r\n                      {wines.length !== 0 && (\r\n                        <Container className=\"item\">\r\n                          <div\r\n                            className=\"card card-body wine\"\r\n                            // onClick={() => {\r\n                            //   console.log(item.wine._id);\r\n                            //   history.push(\"/wine/\" + item.wine._id);\r\n                            // }}\r\n                          >\r\n                            <div className=\"media align-items-center align-items-lg-start text-center text-lg-left flex-column flex-lg-row\">\r\n                              <div className=\"mr-2 mb-3 mb-lg-0\">\r\n                                <img\r\n                                  className=\"image\"\r\n                                  src={item.wine.ImageUrl}\r\n                                />\r\n                              </div>\r\n                              <div className=\"media-body\">\r\n                                <h6 className=\"media-title font-weight-semibold\">\r\n                                  <a\r\n                                    href={`/wine/${item.wine._id}`}\r\n                                    data-abc=\"true\"\r\n                                  >\r\n                                    {\" \"}\r\n                                    {item.wine.WineName}\r\n                                  </a>\r\n                                </h6>\r\n                                <ul className=\"list-inline list-inline-dotted mb-3 mb-lg-2\">\r\n                                  <li className=\"list-inline-item\">\r\n                                    <a\r\n                                      href=\"#\"\r\n                                      className=\"text-muted\"\r\n                                      data-abc=\"true\"\r\n                                    >\r\n                                      {item.wine.Type}\r\n                                    </a>\r\n                                  </li>\r\n                                  <li className=\"list-inline-item\">\r\n                                    <a\r\n                                      href=\"#\"\r\n                                      className=\"text-muted\"\r\n                                      data-abc=\"true\"\r\n                                    >\r\n                                      {item.wine.Color}\r\n                                    </a>\r\n                                  </li>\r\n                                  <li className=\"list-inline-item\">\r\n                                    <a\r\n                                      href=\"#\"\r\n                                      className=\"text-muted\"\r\n                                      data-abc=\"true\"\r\n                                    >\r\n                                      {item.wine.Year}\r\n                                    </a>\r\n                                  </li>\r\n                                  <br />\r\n                                  <li className=\"list-inline-item\">\r\n                                    <a\r\n                                      href=\"#\"\r\n                                      className=\"text-muted\"\r\n                                      data-abc=\"true\"\r\n                                    >\r\n                                      <FaMapMarkerAlt />\r\n                                      &nbsp;\r\n                                      {item.wine.Location} , {item.wine.Country}\r\n                                    </a>\r\n                                  </li>\r\n                                </ul>\r\n                                {/* <p className=\"mb-3\">\r\n                                {item.wine.WineDescription}\r\n                              </p> */}\r\n                                <ul className=\"list-inline list-inline-dotted mb-0\">\r\n                                  <li className=\"list-inline-item\">\r\n                                    {\" \"}\r\n                                    <strong>Grape : </strong> {item.wine.Grapes}{\" \"}\r\n                                  </li>\r\n                                  <br />\r\n                                  <li className=\"list-inline-item\">\r\n                                    {\" \"}\r\n                                    <strong>Winery by</strong>{\" \"}\r\n                                    <a\r\n                                      target=\"_blank\"\r\n                                      href={`https://www.google.com/search?q=${item.wine.Winery}`}\r\n                                      data-abc=\"true\"\r\n                                    >\r\n                                      {\" \"}\r\n                                      {item.wine.Winery}{\" \"}\r\n                                    </a>\r\n                                  </li>\r\n                                  <br />\r\n                                </ul>\r\n                              </div>\r\n                              <div className=\"mt-3 mt-lg-0 ml-lg-3 text-center\">\r\n                                <h3 className=\"mb-0 font-weight-semibold\">\r\n                                  {item.wine.Price} €\r\n                                </h3>\r\n                                <h6 className=\"mb-0 font-weight-semibold\">\r\n                                  {\" \"}\r\n                                  {Math.round(item.sum_total_rate * 100) /\r\n                                    100}{\" \"}\r\n                                  <FontAwesomeIcon\r\n                                    className=\"starIcon\"\r\n                                    icon={faStar}\r\n                                    size=\"1x\"\r\n                                  />\r\n                                </h6>\r\n                                <div className=\"text-muted\">\r\n                                  {\" \"}\r\n                                  <span className=\"fa fa-star checked\"></span>{\" \"}\r\n                                </div>\r\n                                <div className=\"text-muted\">\r\n                                  {\" \"}\r\n                                  {item.number_of_rate} reviews{\" \"}\r\n                                </div>\r\n                                <div className=\"text-muted\"> </div>\r\n\r\n                                <Button\r\n                                  variant=\"warning\"\r\n                                  title=\"Add to Card\"\r\n                                  onClick={() => {\r\n                                    setSelectedWineId(\r\n                                      item.wine._id +\r\n                                        \",\" +\r\n                                        item.wine.WineName +\r\n                                        \",\" +\r\n                                        item.wine._id +\r\n                                        \",\" +\r\n                                        item.wine.Color +\r\n                                        \",\" +\r\n                                        item.wine.Type +\r\n                                        \",\" +\r\n                                        item.wine.Price +\r\n                                        \",\" +\r\n                                        item.wine.ImageUrl\r\n                                    );\r\n                                    handleShow(item.wine._id);\r\n                                  }}\r\n                                >\r\n                                  <FontAwesomeIcon\r\n                                    icon={faCartPlus}\r\n                                    size=\"1x\"\r\n                                  />\r\n                                </Button>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </Container>\r\n                      )}\r\n                    </Col>\r\n                  ))}\r\n              </Row>\r\n            )}\r\n            <br />\r\n            <br />\r\n          </Container>\r\n        </div>\r\n      </div>\r\n\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wines;\r\n"]},"metadata":{},"sourceType":"module"}