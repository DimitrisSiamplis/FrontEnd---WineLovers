{"ast":null,"code":"import _defineProperty from\"C:/Users/dimitris.siamplis/Desktop/React-Node/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"C:/Users/dimitris.siamplis/Desktop/React-Node/Front-End/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import\"./Card.css\";import{useState,useEffect}from\"react\";import Cookies from\"universal-cookie\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faTrash}from\"@fortawesome/free-solid-svg-icons\";import{Col,Row,Alert,Modal,Button}from\"react-bootstrap\";import{AiOutlineMinus,AiOutlinePlus}from\"react-icons/ai\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Card=function Card(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),totalPrice=_useState2[0],setTotalPrice=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),kindPayment=_useState4[0],setKindPayment=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),address=_useState6[0],setAddress=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),phoneNum=_useState8[0],setPhoneNum=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),zipCode=_useState10[0],setZipCode=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),userDetails=_useState12[0],setUseretails=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),firstName=_useState14[0],setfirstName=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),lastName=_useState16[0],setlastName=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),email=_useState18[0],setEmail=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),orderCompleted=_useState20[0],setOrderCompleted=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),show=_useState22[0],setShow=_useState22[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};var _useState23=useState(window.innerWidth),_useState24=_slicedToArray(_useState23,2),deviceSize=_useState24[0],changeDeviceSize=_useState24[1];useEffect(function(){var resizeW=function resizeW(){return changeDeviceSize(window.innerWidth);};window.addEventListener(\"resize\",resizeW);// Update the width on resize\nreturn function(){return window.removeEventListener(\"resize\",resizeW);};});var cookies=new Cookies();var userEmail=cookies.get(\"email\");useEffect(function(){setEmail(userEmail);},[]);// console.log(cookies.get(\"card\"));\n// ------------ Get user Details -----------------\nvar getUser=function getUser(){fetch(\"http://localhost:4000/getUser/\".concat(userEmail)).then(function(res){return res.json();}).then(function(json){console.log(json.user);setAddress(json.user.Address);setPhoneNum(json.user.Mobile);setUseretails([json]);});};useEffect(function(){getUser();},[]);var cardDetails=cookies.get(\"card\")===\"\"||cookies.get(\"card\")===undefined?[]:cookies.get(\"card\").split(\"|\");var _useState25=useState(cardDetails),_useState26=_slicedToArray(_useState25,2),card=_useState26[0],setCard=_useState26[1];// -------- Delete from Card ----------\nvar onDeletefromCard=function onDeletefromCard(item){var cardCookies=cookies.get(\"card\");var cardArray=cardCookies.split(\"|\");cardArray=cardArray.filter(function(word){return word!==item;});if(cardArray===[\"\"]){cookies.remove(\"card\");// cookies.set(\"card\", undefined , { path: \"/\" });\nsetCard([]);}else{cookies.set(\"card\",cardArray.join(\"|\"),{path:\"/\"});setCard(cardArray);}};useEffect(function(){if(card.length===0){setTotalPrice(0);}else{var total_price=0;for(var key in card){total_price=Number(total_price)+Number(card[key].split(\",\")[5]*card[key].split(\",\")[7]);}setTotalPrice(total_price);}},[card]);//--------------- Email Validation ----------------------\nvar validateEmail=function validateEmail(email){return String(email).toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);};//----------------- Complete Order-----------------\nvar onCreateOrder=function onCreateOrder(){var wineList=[];var amounts=[];for(var key in card){wineList.push(card[key].split(\",\")[0]);amounts.push(card[key].split(\",\")[7]);}var cardDetails=_defineProperty({firstName:firstName,lastName:lastName,email:email,address:address,zipCode:zipCode,phoneNum:phoneNum,kindPayment:kindPayment,totalPrice:totalPrice,wineList:wineList,amounts:amounts},\"kindPayment\",kindPayment);fetch(\"http://localhost:4000/completeOrder\",{method:\"POST\",body:JSON.stringify(cardDetails),headers:{\"Content-Type\":\"application/json\"}}).then(function(res){return res.json();}).then(function(json){setOrderCompleted(true);cookies.remove(\"card\");setCard([]);setTimeout(setOrderCompleted(false),3000);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Confirm your Order\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:\"Complete Order? Are you sure?\"}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:onCreateOrder,children:\"Complete Order\"})]})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{xs:deviceSize<800?12:8,children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-details mr-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row align-items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-long-arrow-left\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){window.history.go(-1);},className:\"ml-2\",children:\"Continue Shopping\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0\",children:\"Shopping cart\"}),card.length===0&&/*#__PURE__*/_jsx(Alert,{className:\"emptyAlert\",variant:\"warning\",children:\"The Card is Empty!\"}),orderCompleted===true&&/*#__PURE__*/_jsx(Alert,{className:\"emptyAlert\",variant:\"success\",children:\"Your Order Succesfully Completed! Please check your email address!\"}),card.length!==0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"You have \",/*#__PURE__*/_jsxs(\"strong\",{children:[card.length,\" items\"]}),\" in your cart\"]}),/*#__PURE__*/_jsxs(\"strong\",{children:[\"Total Price : \",totalPrice,\" \\u20AC\"]})]}),card.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mt-3 p-2 items rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/wine/\".concat(item.split(\",\")[0]),children:/*#__PURE__*/_jsx(\"img\",{className:\"cardImage\",src:item.split(\",\")[6],width:\"40\"})}),\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsxs(\"div\",{className:\"ml-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-weight-bold d-block\",children:item.split(\",\")[1]}),/*#__PURE__*/_jsxs(\"span\",{className:\"spec\",children:[item.split(\",\")[4],\" , \",item.split(\",\")[3]]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{className:\"spec\",children:[item.split(\",\")[5],\" \\u20AC\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row align-items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" \",/*#__PURE__*/_jsx(AiOutlineMinus,{}),\"\\xA0\",/*#__PURE__*/_jsxs(\"strong\",{className:\"amount-box\",children:[\"\\xA0\",item.split(\",\")[7],\"\\xA0\"]}),\"\\xA0\",/*#__PURE__*/_jsx(AiOutlinePlus,{})]}),/*#__PURE__*/_jsx(\"span\",{children:\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0 \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"d-block ml-5 font-weight-bold\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[item.split(\",\")[7]*item.split(\",\")[5],\"\\xA0\\u20AC\"]}),\"\\xA0\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"deleteIcon\",onClick:function onClick(){onDeletefromCard(item);},icon:faTrash,size:\"1x\",title:\"Delete from cart\"})]})]})]});})]})]})}),/*#__PURE__*/_jsx(Col,{xs:deviceSize<800?12:3,children:userDetails.length!==0&&/*#__PURE__*/_jsxs(\"div\",{className:\"order-card\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"Continue with Order\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-info\",children:[\"Personal Details\",/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label-formater\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:firstName,className:\"form-control credit-inputs\",placeholder:\"Giwrgos\",onChange:function onChange(e){setfirstName(e.target.value);}}),firstName!==\"\"?\"\":/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:\"\\u2022 Provide First Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label-formater\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:lastName,className:\"form-control credit-inputs\",placeholder:\"Georgiou\",onChange:function onChange(e){setlastName(e.target.value);}}),lastName!==\"\"?\"\":/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:\"\\u2022 Provide First Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label-formater\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:email,className:\"form-control credit-inputs\",placeholder:\"yourEmail@company.com\",onChange:function onChange(e){setEmail(e.target.value);}}),validateEmail(email)||email===\"\"?\"\":/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:\"\\u2022 Wrong Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label-formater\",children:\"Shipping location\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:address,className:\"form-control credit-inputs\",placeholder:\"Atiki,Greece 31\",onChange:function onChange(e){setAddress(e.target.value);}}),address===\"\"&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:\"\\u2022 Please Provide Address.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label-formater\",children:\"Zip Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control credit-inputs\",placeholder:\"15231\",onChange:function onChange(e){setZipCode(e.target.value);}}),zipCode!==\"\"&&zipCode.length&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:\"\\u2022 Wrong Zip Code. Max length 5.\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label-formater\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:phoneNum,className:\"form-control credit-inputs\",placeholder:\"6999999999\",onChange:function onChange(e){setPhoneNum(e.target.value);}}),(isNaN(phoneNum)||phoneNum.length>10||phoneNum.length<10)&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:\"\\u2022 Wrong Phone Number\"})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),\"Kind of Payment\",/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"select\",{className:\"form-control credit-inputs\",onChange:function onChange(e){setKindPayment(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"delivery\",children:\"Pay on delivery\"}),/*#__PURE__*/_jsx(\"option\",{value:\"deposit\",children:\"Bank deposit\"}),/*#__PURE__*/_jsx(\"option\",{value:\"card\",children:\"Payment by card\"})]}),kindPayment===\"\"&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:\"\\u2022 Provide Kind of Payment.\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),\"Sumary\",/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between information\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Subtotal\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",totalPrice,\" \\u20AC\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between information\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Shipping (only for orders under 50 \\u20AC)\"}),/*#__PURE__*/_jsx(\"span\",{children:totalPrice>50||totalPrice===0?\"0 €\":\"3 €\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between information\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total(Incl. taxes)\"}),/*#__PURE__*/_jsxs(\"span\",{children:[totalPrice>50||totalPrice===0?totalPrice:totalPrice+3,\" \",\"\\u20AC\"]})]}),/*#__PURE__*/_jsx(\"button\",{disabled:card.length===0||kindPayment===\"\"||address===\"\"||phoneNum===\"\"||zipCode===\"\"||firstName===\"\"||lastName===\"\"||email===\"\",onClick:handleShow,className:\"btn btn-primary btn-block d-flex justify-content-between mt-3\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Complete Order\",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-long-arrow-right ml-1\"})]})})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cardboth\"})]});};export default Card;","map":{"version":3,"sources":["C:/Users/dimitris.siamplis/Desktop/React-Node/Front-End/src/pages/Card.js"],"names":["React","useState","useEffect","Cookies","FontAwesomeIcon","faTrash","Col","Row","Alert","Modal","Button","AiOutlineMinus","AiOutlinePlus","Card","totalPrice","setTotalPrice","kindPayment","setKindPayment","address","setAddress","phoneNum","setPhoneNum","zipCode","setZipCode","userDetails","setUseretails","firstName","setfirstName","lastName","setlastName","email","setEmail","orderCompleted","setOrderCompleted","show","setShow","handleClose","handleShow","window","innerWidth","deviceSize","changeDeviceSize","resizeW","addEventListener","removeEventListener","cookies","userEmail","get","getUser","fetch","then","res","json","console","log","user","Address","Mobile","cardDetails","undefined","split","card","setCard","onDeletefromCard","item","cardCookies","cardArray","filter","word","remove","set","join","path","length","total_price","key","Number","validateEmail","String","toLowerCase","match","onCreateOrder","wineList","amounts","push","method","body","JSON","stringify","headers","setTimeout","history","go","map","e","target","value","isNaN"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./Card.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTrash } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Col, Row, Alert, Modal, Button } from \"react-bootstrap\";\r\n\r\nimport { AiOutlineMinus, AiOutlinePlus } from \"react-icons/ai\";\r\n\r\nconst Card = () => {\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const [kindPayment, setKindPayment] = useState(\"\");\r\n  const [address, setAddress] = useState(\"\");\r\n  const [phoneNum, setPhoneNum] = useState(\"\");\r\n  const [zipCode, setZipCode] = useState(\"\");\r\n  const [userDetails, setUseretails] = useState([]);\r\n  const [firstName, setfirstName] = useState(\"\");\r\n  const [lastName, setlastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [orderCompleted, setOrderCompleted] = useState(false);\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n  const [deviceSize, changeDeviceSize] = useState(window.innerWidth);\r\n  useEffect(() => {\r\n    const resizeW = () => changeDeviceSize(window.innerWidth);\r\n\r\n    window.addEventListener(\"resize\", resizeW); // Update the width on resize\r\n    return () => window.removeEventListener(\"resize\", resizeW);\r\n  });\r\n\r\n  const cookies = new Cookies();\r\n  var userEmail = cookies.get(\"email\");\r\n\r\n  useEffect(() => {\r\n    setEmail(userEmail);\r\n  }, []);\r\n\r\n  // console.log(cookies.get(\"card\"));\r\n\r\n  // ------------ Get user Details -----------------\r\n  const getUser = () => {\r\n    fetch(`http://localhost:4000/getUser/${userEmail}`)\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        console.log(json.user);\r\n        setAddress(json.user.Address);\r\n        setPhoneNum(json.user.Mobile);\r\n        setUseretails([json]);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    getUser();\r\n  }, []);\r\n\r\n  var cardDetails =\r\n    cookies.get(\"card\") === \"\" || cookies.get(\"card\") === undefined\r\n      ? []\r\n      : cookies.get(\"card\").split(\"|\");\r\n\r\n  const [card, setCard] = useState(cardDetails);\r\n\r\n  // -------- Delete from Card ----------\r\n  const onDeletefromCard = (item) => {\r\n    var cardCookies = cookies.get(\"card\");\r\n    var cardArray = cardCookies.split(\"|\");\r\n    cardArray = cardArray.filter((word) => word !== item);\r\n\r\n    if (cardArray === [\"\"]) {\r\n      cookies.remove(\"card\");\r\n      // cookies.set(\"card\", undefined , { path: \"/\" });\r\n      setCard([]);\r\n    } else {\r\n      cookies.set(\"card\", cardArray.join(\"|\"), { path: \"/\" });\r\n      setCard(cardArray);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (card.length === 0) {\r\n      setTotalPrice(0);\r\n    } else {\r\n      var total_price = 0;\r\n      for (const key in card) {\r\n        total_price =\r\n          Number(total_price) +\r\n          Number(card[key].split(\",\")[5] * card[key].split(\",\")[7]);\r\n      }\r\n      setTotalPrice(total_price);\r\n    }\r\n  }, [card]);\r\n\r\n  //--------------- Email Validation ----------------------\r\n  const validateEmail = (email) => {\r\n    return String(email)\r\n      .toLowerCase()\r\n      .match(\r\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n      );\r\n  };\r\n\r\n  //----------------- Complete Order-----------------\r\n  const onCreateOrder = () => {\r\n    var wineList = [];\r\n    var amounts = [];\r\n    for (const key in card) {\r\n      wineList.push(card[key].split(\",\")[0]);\r\n      amounts.push(card[key].split(\",\")[7]);\r\n    }\r\n\r\n    let cardDetails = {\r\n      firstName: firstName,\r\n      lastName: lastName,\r\n      email: email,\r\n      address: address,\r\n      zipCode: zipCode,\r\n      phoneNum: phoneNum,\r\n      kindPayment: kindPayment,\r\n      totalPrice: totalPrice,\r\n      wineList: wineList,\r\n      amounts: amounts,\r\n      kindPayment: kindPayment,\r\n    };\r\n\r\n    fetch(\"http://localhost:4000/completeOrder\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(cardDetails),\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        setOrderCompleted(true);\r\n        cookies.remove(\"card\");\r\n\r\n        setCard([]);\r\n\r\n        setTimeout(setOrderCompleted(false), 3000);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Confirm your Order</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>Complete Order? Are you sure?</Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={onCreateOrder}>\r\n            Complete Order\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <Row>\r\n        <Col xs={deviceSize < 800 ? 12 : 8}>\r\n          <div className=\"product-details mr-2\">\r\n            <div className=\"d-flex flex-row align-items-center\">\r\n              <i className=\"fa fa-long-arrow-left\"></i>\r\n              <button\r\n                onClick={() => {\r\n                  window.history.go(-1);\r\n                }}\r\n                className=\"ml-2\"\r\n              >\r\n                Continue Shopping\r\n              </button>\r\n            </div>\r\n            <hr />\r\n            <h6 className=\"mb-0\">Shopping cart</h6>\r\n\r\n            {card.length === 0 && (\r\n              <Alert className=\"emptyAlert\" variant=\"warning\">\r\n                The Card is Empty!\r\n              </Alert>\r\n            )}\r\n\r\n            {orderCompleted === true && (\r\n              <Alert className=\"emptyAlert\" variant=\"success\">\r\n                Your Order Succesfully Completed! Please check your email\r\n                address!\r\n              </Alert>\r\n            )}\r\n\r\n            {card.length !== 0 && (\r\n              <div>\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <span>\r\n                    You have <strong>{card.length} items</strong> in your cart\r\n                  </span>\r\n                  <strong>Total Price : {totalPrice} €</strong>\r\n                </div>\r\n\r\n                {card.map((item) => (\r\n                  <div className=\"d-flex justify-content-between align-items-center mt-3 p-2 items rounded\">\r\n                    <div className=\"d-flex flex-row\">\r\n                      <a href={`/wine/${item.split(\",\")[0]}`}>\r\n                        <img\r\n                          className=\"cardImage\"\r\n                          src={item.split(\",\")[6]}\r\n                          width=\"40\"\r\n                        />\r\n                      </a>\r\n                      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                      <div className=\"ml-2\">\r\n                        <span className=\"font-weight-bold d-block\">\r\n                          {item.split(\",\")[1]}\r\n                        </span>\r\n                        <span className=\"spec\">\r\n                          {item.split(\",\")[4]} , {item.split(\",\")[3]}\r\n                        </span>\r\n                        <br />\r\n                        <span className=\"spec\">{item.split(\",\")[5]} €</span>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"d-flex flex-row align-items-center\">\r\n                      <span>\r\n                        {\" \"}\r\n                        <AiOutlineMinus />\r\n                        &nbsp;\r\n                        <strong className=\"amount-box\">\r\n                          &nbsp;{item.split(\",\")[7]}&nbsp;\r\n                        </strong>\r\n                        &nbsp;\r\n                        <AiOutlinePlus />\r\n                      </span>\r\n\r\n                      <span>\r\n                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                      </span>\r\n\r\n                      <span className=\"d-block ml-5 font-weight-bold\">\r\n                        <strong>\r\n                          {item.split(\",\")[7] * item.split(\",\")[5]}&nbsp;€\r\n                        </strong>\r\n                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                        <FontAwesomeIcon\r\n                          className=\"deleteIcon\"\r\n                          onClick={() => {\r\n                            onDeletefromCard(item);\r\n                          }}\r\n                          icon={faTrash}\r\n                          size=\"1x\"\r\n                          title=\"Delete from cart\"\r\n                        />\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </Col>\r\n        <Col xs={deviceSize < 800 ? 12 : 3}>\r\n          {userDetails.length !== 0 && (\r\n            <div className=\"order-card\">\r\n              <br />\r\n              <br />\r\n              Continue with Order\r\n              <br />\r\n              <div className=\"payment-info\">\r\n                Personal Details\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-6\">\r\n                    <label className=\"label-formater\">First Name</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={firstName}\r\n                      className=\"form-control credit-inputs\"\r\n                      placeholder=\"Giwrgos\"\r\n                      onChange={(e) => {\r\n                        setfirstName(e.target.value);\r\n                      }}\r\n                    />\r\n                    {firstName !== \"\" ? (\r\n                      \"\"\r\n                    ) : (\r\n                      <p className=\"error-message\">\r\n                        &#8226; Provide First Name\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"col-md-6\">\r\n                    <label className=\"label-formater\">Last Name</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={lastName}\r\n                      className=\"form-control credit-inputs\"\r\n                      placeholder=\"Georgiou\"\r\n                      onChange={(e) => {\r\n                        setlastName(e.target.value);\r\n                      }}\r\n                    />\r\n                    {lastName !== \"\" ? (\r\n                      \"\"\r\n                    ) : (\r\n                      <p className=\"error-message\">\r\n                        &#8226; Provide First Name\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"col-md-6\">\r\n                    <label className=\"label-formater\">Email</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={email}\r\n                      className=\"form-control credit-inputs\"\r\n                      placeholder=\"yourEmail@company.com\"\r\n                      onChange={(e) => {\r\n                        setEmail(e.target.value);\r\n                      }}\r\n                    />\r\n\r\n                    {validateEmail(email) || email === \"\" ? (\r\n                      \"\"\r\n                    ) : (\r\n                      <p className=\"error-message\">&#8226; Wrong Email</p>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"col-md-6\">\r\n                    <label className=\"label-formater\">Shipping location</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={address}\r\n                      className=\"form-control credit-inputs\"\r\n                      placeholder=\"Atiki,Greece 31\"\r\n                      onChange={(e) => {\r\n                        setAddress(e.target.value);\r\n                      }}\r\n                    />\r\n                    {address === \"\"  && (\r\n                      <p className=\"error-message\">\r\n                        &#8226; Please Provide Address.\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"col-md-6\">\r\n                    <label className=\"label-formater\">Zip Number</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control credit-inputs\"\r\n                      placeholder=\"15231\"\r\n                      onChange={(e) => {\r\n                        setZipCode(e.target.value);\r\n                      }}\r\n                    />\r\n                    {zipCode !== \"\" && zipCode.length && (\r\n                      <p className=\"error-message\">\r\n                        &#8226; Wrong Zip Code. Max length 5.\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n\r\n                  <br />\r\n                  <div className=\"col-md-6\">\r\n                    <label className=\"label-formater\">Phone Number</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={phoneNum}\r\n                      className=\"form-control credit-inputs\"\r\n                      placeholder=\"6999999999\"\r\n                      onChange={(e) => {\r\n                        setPhoneNum(e.target.value);\r\n                      }}\r\n                    />\r\n\r\n                    {(isNaN(phoneNum) ||\r\n                      phoneNum.length > 10 ||\r\n                      phoneNum.length < 10) && (\r\n                      <p className=\"error-message\">\r\n                        &#8226; Wrong Phone Number\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <hr />\r\n                Kind of Payment\r\n                <div>\r\n                  <select\r\n                    className=\"form-control credit-inputs\"\r\n                    onChange={(e) => {\r\n                      setKindPayment(e.target.value);\r\n                    }}\r\n                  >\r\n                    <option value=\"delivery\">Pay on delivery</option>\r\n                    <option value=\"deposit\">Bank deposit</option>\r\n                    <option value=\"card\">Payment by card</option>\r\n                  </select>\r\n\r\n                  {kindPayment === \"\" && (\r\n                    <p className=\"error-message\">\r\n                      &#8226; Provide Kind of Payment.\r\n                    </p>\r\n                  )}\r\n                </div>\r\n                <hr />\r\n                Sumary\r\n                <div className=\"d-flex justify-content-between information\">\r\n                  <span>Subtotal</span>\r\n                  <span> {totalPrice} €</span>\r\n                </div>\r\n                <div className=\"d-flex justify-content-between information\">\r\n                  <span>Shipping (only for orders under 50 €)</span>\r\n                  <span>\r\n                    {totalPrice > 50 || totalPrice === 0 ? \"0 €\" : \"3 €\"}\r\n                  </span>\r\n                </div>\r\n                <div className=\"d-flex justify-content-between information\">\r\n                  <span>Total(Incl. taxes)</span>\r\n                  <span>\r\n                    {totalPrice > 50 || totalPrice === 0\r\n                      ? totalPrice\r\n                      : totalPrice + 3}{\" \"}\r\n                    €\r\n                  </span>\r\n                </div>\r\n                {/* <input\r\n                    type=\"number\"\r\n                    name=\"totalPrice\"\r\n                    value=\"{{total_price}}\"\r\n                  /> */}\r\n                <button\r\n                  disabled={\r\n                    card.length === 0 ||\r\n                    kindPayment === \"\" ||\r\n                    address === \"\" ||\r\n                    phoneNum === \"\" ||\r\n                    zipCode === \"\" ||\r\n                    firstName === \"\" ||\r\n                    lastName === \"\" ||\r\n                    email === \"\"\r\n                  }\r\n                  onClick={handleShow}\r\n                  className=\"btn btn-primary btn-block d-flex justify-content-between mt-3\"\r\n                >\r\n                  <span>\r\n                    Complete Order\r\n                    <i className=\"fa fa-long-arrow-right ml-1\"></i>\r\n                  </span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </Col>\r\n      </Row>\r\n      <div className=\"cardboth\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n"]},"metadata":{},"sourceType":"module"}