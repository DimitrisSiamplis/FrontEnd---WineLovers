{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dimitris.siamplis\\\\Desktop\\\\React-Node\\\\Front-End\\\\src\\\\pages\\\\Card.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport \"./Card.css\";\nimport { useState, useEffect } from \"react\";\nimport Cookies from \"universal-cookie\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport { Col, Row, Alert, Modal, Button } from \"react-bootstrap\";\nimport emailjs from \"@emailjs/browser\";\nimport { AiOutlineMinus, AiOutlinePlus, AiOutlineMail } from \"react-icons/ai\";\nimport { IoArrowBack } from \"react-icons/io5\";\nimport { FaWineBottle } from \"react-icons/fa\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Card = () => {\n  _s();\n\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [kindPayment, setKindPayment] = useState(\"delivery\");\n  const [address, setAddress] = useState(\"\");\n  const [phoneNum, setPhoneNum] = useState(\"\");\n  const [zipCode, setZipCode] = useState(\"\");\n  const [userDetails, setUseretails] = useState([]);\n  const [firstName, setfirstName] = useState(\"\");\n  const [lastName, setlastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [orderCompleted, setOrderCompleted] = useState(false);\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const [deviceSize, changeDeviceSize] = useState(window.innerWidth);\n  useEffect(() => {\n    const resizeW = () => changeDeviceSize(window.innerWidth);\n\n    window.addEventListener(\"resize\", resizeW); // Update the width on resize\n\n    return () => window.removeEventListener(\"resize\", resizeW);\n  });\n  const cookies = new Cookies();\n  var userEmail = cookies.get(\"email\");\n  useEffect(() => {\n    setEmail(userEmail);\n  }, []); // console.log(cookies.get(\"card\"));\n  // ------------ Get user Details -----------------\n\n  const getUser = () => {\n    fetch(`http://localhost:4000/getUser/${userEmail}`).then(res => res.json()).then(json => {\n      console.log(json.user);\n      setAddress(json.user.Address);\n      setPhoneNum(json.user.Mobile);\n      setUseretails([json]);\n    });\n  };\n\n  useEffect(() => {\n    getUser();\n  }, []);\n  var cardDetails = cookies.get(\"card\") === \"\" || cookies.get(\"card\") === undefined ? [] : cookies.get(\"card\").split(\"|\");\n  const [card, setCard] = useState(cardDetails); // -------- Delete from Card ----------\n\n  const onDeletefromCard = item => {\n    var cardCookies = cookies.get(\"card\");\n    var cardArray = cardCookies.split(\"|\");\n    cardArray = cardArray.filter(word => word !== item);\n\n    if (cardArray === [\"\"]) {\n      cookies.remove(\"card\"); // cookies.set(\"card\", undefined , { path: \"/\" });\n\n      setCard([]);\n    } else {\n      cookies.set(\"card\", cardArray.join(\"|\"), {\n        path: \"/\"\n      });\n      setCard(cardArray);\n    }\n  };\n\n  useEffect(() => {\n    if (card.length === 0) {\n      setTotalPrice(0);\n    } else {\n      var total_price = 0;\n\n      for (const key in card) {\n        total_price = Number(total_price) + Number(card[key].split(\",\")[5] * card[key].split(\",\")[7]);\n      }\n\n      setTotalPrice(total_price);\n    }\n  }, [card]); //--------------- Email Validation ----------------------\n\n  const validateEmail = email => {\n    return String(email).toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n  }; //----------------- Complete Order-----------------\n\n\n  const onCreateOrder = () => {\n    var wineList = [];\n    var amounts = [];\n\n    for (const key in card) {\n      wineList.push(card[key].split(\",\")[0]);\n      amounts.push(card[key].split(\",\")[7]);\n    }\n\n    let cardDetails = {\n      firstName: firstName,\n      lastName: lastName,\n      email: email,\n      address: address,\n      zipCode: zipCode,\n      phoneNum: phoneNum,\n      kindPayment: kindPayment,\n      totalPrice: totalPrice,\n      wineList: wineList,\n      amounts: amounts,\n      kindPayment: kindPayment\n    };\n    fetch(\"http://localhost:4000/completeOrder\", {\n      method: \"POST\",\n      body: JSON.stringify(cardDetails),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(json => {\n      setOrderCompleted(true);\n      cookies.remove(\"card\");\n      setCard([]);\n      setTimeout(setOrderCompleted(false), 3000);\n\n      try {\n        SendEmail();\n      } catch (err) {\n        console.log(err);\n      }\n    });\n  }; // ---------------------- Send Email ----------------\n\n\n  const SendEmail = () => {\n    emailjs.send(\"service_v0wulhc\", \"template_wz5m9wr\", {\n      name: {\n        firstName\n      } + {\n        lastName\n      },\n      order_id: \"#eregdfgdfgdf\",\n      email_to: {\n        email\n      }\n    }, \"WuMNYncc27nq1KILD\").then(function (res) {\n      alert(\"Success\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Confirm your Order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: \"Complete Order? Are you sure?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: handleClose,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: onCreateOrder,\n          children: \"Complete Order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container py-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"pb-3 mb-4 border-bottom\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"d-flex align-items-center text-dark text-decoration-none\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"fs-4\",\n              children: \"WineLovers Website\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          xs: deviceSize < 800 ? 12 : 8,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-details mr-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"mb-0\",\n              children: \"Shopping cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this), card.length === 0 && /*#__PURE__*/_jsxDEV(Alert, {\n              className: deviceSize < 800 ? 12 : \"emptyAlert\",\n              variant: \"warning\",\n              children: [/*#__PURE__*/_jsxDEV(FaWineBottle, {\n                className: \"history-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 19\n              }, this), \" The Card is Empty! Add some wines!\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this), orderCompleted === true && /*#__PURE__*/_jsxDEV(Alert, {\n              className: \"emptyAlert\",\n              variant: \"success\",\n              children: [/*#__PURE__*/_jsxDEV(AiOutlineMail, {\n                className: \"history-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 19\n              }, this), \" Your Order Succesfully Completed! Please check your email address!\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 17\n            }, this), card.length !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"You have \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: [card.length, \" items\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 32\n                  }, this), \" in your cart\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [\"Total Price : \", totalPrice, \" \\u20AC\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 19\n              }, this), card.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between align-items-center mt-3 p-2 items rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex flex-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                    href: `/wine/${item.split(\",\")[0]}`,\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      className: \"cardImage\",\n                      src: item.split(\",\")[6],\n                      width: \"40\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 236,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 25\n                  }, this), \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ml-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-weight-bold d-block\",\n                      children: item.split(\",\")[1]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 244,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"spec\",\n                      children: [item.split(\",\")[4], \" , \", item.split(\",\")[3]]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 247,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 250,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"spec\",\n                      children: [item.split(\",\")[5], \" \\u20AC\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex flex-row align-items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\" \", /*#__PURE__*/_jsxDEV(AiOutlineMinus, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 257,\n                      columnNumber: 27\n                    }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                      className: \"amount-box\",\n                      children: [\"\\xA0\", item.split(\",\")[7], \"\\xA0\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 259,\n                      columnNumber: 27\n                    }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(AiOutlinePlus, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 263,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0 \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"d-block ml-5 font-weight-bold\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: [item.split(\",\")[7] * item.split(\",\")[5], \"\\xA0\\u20AC\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 272,\n                      columnNumber: 27\n                    }, this), \"\\xA0\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                      className: \"deleteIcon\",\n                      onClick: () => {\n                        onDeletefromCard(item);\n                      },\n                      icon: faTrash,\n                      size: \"1x\",\n                      title: \"Delete from cart\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xs: deviceSize < 800 ? 12 : 3,\n          children: userDetails.length !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this), \"Continue with Order\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"payment-info\",\n              children: [\"Personal Details\", /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"label-formater\",\n                    children: \"First Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: firstName,\n                    className: \"form-control credit-inputs\",\n                    placeholder: \"Giwrgos\",\n                    onChange: e => {\n                      setfirstName(e.target.value);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 23\n                  }, this), firstName !== \"\" ? \"\" : /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"error-message\",\n                    children: \"\\u2022 Provide First Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"label-formater\",\n                    children: \"Last Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: lastName,\n                    className: \"form-control credit-inputs\",\n                    placeholder: \"Georgiou\",\n                    onChange: e => {\n                      setlastName(e.target.value);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 23\n                  }, this), lastName !== \"\" ? \"\" : /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"error-message\",\n                    children: \"\\u2022 Provide First Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 337,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"label-formater\",\n                    children: \"Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: email,\n                    className: \"form-control credit-inputs\",\n                    placeholder: \"yourEmail@company.com\",\n                    onChange: e => {\n                      setEmail(e.target.value);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 23\n                  }, this), validateEmail(email) || email === \"\" ? \"\" : /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"error-message\",\n                    children: \"\\u2022 Wrong Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"label-formater\",\n                    children: \"Shipping location\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 363,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: address,\n                    className: \"form-control credit-inputs\",\n                    placeholder: \"Atiki,Greece 31\",\n                    onChange: e => {\n                      setAddress(e.target.value);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 23\n                  }, this), address === \"\" && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"error-message\",\n                    children: \"\\u2022 Please Provide Address.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 376,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"label-formater\",\n                    children: \"Zip Number\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 382,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    className: \"form-control credit-inputs\",\n                    placeholder: \"15231\",\n                    onChange: e => {\n                      setZipCode(e.target.value);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 23\n                  }, this), zipCode !== \"\" && zipCode.length !== 5 && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"error-message\",\n                    children: \"\\u2022 Wrong Zip Code. Max length 5.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 392,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"label-formater\",\n                    children: \"Phone Number\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    value: phoneNum,\n                    className: \"form-control credit-inputs\",\n                    placeholder: \"6999999999\",\n                    onChange: e => {\n                      setPhoneNum(e.target.value);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 401,\n                    columnNumber: 23\n                  }, this), (isNaN(phoneNum) || phoneNum.length > 10 || phoneNum.length < 10) && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"error-message\",\n                    children: \"\\u2022 Wrong Phone Number\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 19\n              }, this), \"Kind of Payment\", /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-control credit-inputs\",\n                  onChange: e => {\n                    setKindPayment(e.target.value);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"delivery\",\n                    children: \"Pay on delivery\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"deposit\",\n                    children: \"Bank deposit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"card\",\n                    children: \"Payment by card\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 431,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 21\n                }, this), kindPayment === \"\" && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"error-message\",\n                  children: \"\\u2022 Provide Kind of Payment.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 19\n              }, this), \"Sumary\", /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between information\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Subtotal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\" \", totalPrice, \" \\u20AC\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between information\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Shipping (only for orders under 50 \\u20AC)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: totalPrice > 50 || totalPrice === 0 ? \"0 €\" : \"3 €\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between information\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Total(Incl. taxes)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [totalPrice > 50 || totalPrice === 0 ? totalPrice : totalPrice + 3, \" \", \"\\u20AC\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                disabled: card.length === 0 || kindPayment === \"\" || address === \"\" || phoneNum === \"\" || zipCode === \"\" || firstName === \"\" || lastName === \"\" || email === \"\",\n                onClick: handleShow //onClick={SendEmail}\n                ,\n                className: \"btn btn-primary btn-block d-flex justify-content-between mt-3\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Complete Order\", /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-long-arrow-right ml-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 483,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Card, \"aZhb1hq4+s96RmZwAhfXKq8jk1E=\");\n\n_c = Card;\nexport default Card;\n\nvar _c;\n\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"sources":["C:/Users/dimitris.siamplis/Desktop/React-Node/Front-End/src/pages/Card.js"],"names":["React","useState","useEffect","Cookies","FontAwesomeIcon","faTrash","Col","Row","Alert","Modal","Button","emailjs","AiOutlineMinus","AiOutlinePlus","AiOutlineMail","IoArrowBack","FaWineBottle","Card","totalPrice","setTotalPrice","kindPayment","setKindPayment","address","setAddress","phoneNum","setPhoneNum","zipCode","setZipCode","userDetails","setUseretails","firstName","setfirstName","lastName","setlastName","email","setEmail","orderCompleted","setOrderCompleted","show","setShow","handleClose","handleShow","deviceSize","changeDeviceSize","window","innerWidth","resizeW","addEventListener","removeEventListener","cookies","userEmail","get","getUser","fetch","then","res","json","console","log","user","Address","Mobile","cardDetails","undefined","split","card","setCard","onDeletefromCard","item","cardCookies","cardArray","filter","word","remove","set","join","path","length","total_price","key","Number","validateEmail","String","toLowerCase","match","onCreateOrder","wineList","amounts","push","method","body","JSON","stringify","headers","setTimeout","SendEmail","err","send","name","order_id","email_to","alert","map","e","target","value","isNaN"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./Card.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTrash } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Col, Row, Alert, Modal, Button } from \"react-bootstrap\";\r\nimport emailjs from \"@emailjs/browser\";\r\nimport { AiOutlineMinus, AiOutlinePlus, AiOutlineMail } from \"react-icons/ai\";\r\nimport { IoArrowBack } from \"react-icons/io5\";\r\nimport { FaWineBottle } from \"react-icons/fa\";\r\n\r\nconst Card = () => {\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const [kindPayment, setKindPayment] = useState(\"delivery\");\r\n  const [address, setAddress] = useState(\"\");\r\n  const [phoneNum, setPhoneNum] = useState(\"\");\r\n  const [zipCode, setZipCode] = useState(\"\");\r\n  const [userDetails, setUseretails] = useState([]);\r\n  const [firstName, setfirstName] = useState(\"\");\r\n  const [lastName, setlastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [orderCompleted, setOrderCompleted] = useState(false);\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n  const [deviceSize, changeDeviceSize] = useState(window.innerWidth);\r\n  useEffect(() => {\r\n    const resizeW = () => changeDeviceSize(window.innerWidth);\r\n\r\n    window.addEventListener(\"resize\", resizeW); // Update the width on resize\r\n    return () => window.removeEventListener(\"resize\", resizeW);\r\n  });\r\n\r\n  const cookies = new Cookies();\r\n  var userEmail = cookies.get(\"email\");\r\n\r\n  useEffect(() => {\r\n    setEmail(userEmail);\r\n  }, []);\r\n\r\n  // console.log(cookies.get(\"card\"));\r\n\r\n  // ------------ Get user Details -----------------\r\n  const getUser = () => {\r\n    fetch(`http://localhost:4000/getUser/${userEmail}`)\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        console.log(json.user);\r\n        setAddress(json.user.Address);\r\n        setPhoneNum(json.user.Mobile);\r\n        setUseretails([json]);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    getUser();\r\n  }, []);\r\n\r\n  var cardDetails =\r\n    cookies.get(\"card\") === \"\" || cookies.get(\"card\") === undefined\r\n      ? []\r\n      : cookies.get(\"card\").split(\"|\");\r\n\r\n  const [card, setCard] = useState(cardDetails);\r\n\r\n  // -------- Delete from Card ----------\r\n  const onDeletefromCard = (item) => {\r\n    var cardCookies = cookies.get(\"card\");\r\n    var cardArray = cardCookies.split(\"|\");\r\n    cardArray = cardArray.filter((word) => word !== item);\r\n\r\n    if (cardArray === [\"\"]) {\r\n      cookies.remove(\"card\");\r\n      // cookies.set(\"card\", undefined , { path: \"/\" });\r\n      setCard([]);\r\n    } else {\r\n      cookies.set(\"card\", cardArray.join(\"|\"), { path: \"/\" });\r\n      setCard(cardArray);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (card.length === 0) {\r\n      setTotalPrice(0);\r\n    } else {\r\n      var total_price = 0;\r\n      for (const key in card) {\r\n        total_price =\r\n          Number(total_price) +\r\n          Number(card[key].split(\",\")[5] * card[key].split(\",\")[7]);\r\n      }\r\n      setTotalPrice(total_price);\r\n    }\r\n  }, [card]);\r\n\r\n  //--------------- Email Validation ----------------------\r\n  const validateEmail = (email) => {\r\n    return String(email)\r\n      .toLowerCase()\r\n      .match(\r\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n      );\r\n  };\r\n\r\n  //----------------- Complete Order-----------------\r\n  const onCreateOrder = () => {\r\n    var wineList = [];\r\n    var amounts = [];\r\n    for (const key in card) {\r\n      wineList.push(card[key].split(\",\")[0]);\r\n      amounts.push(card[key].split(\",\")[7]);\r\n    }\r\n\r\n    let cardDetails = {\r\n      firstName: firstName,\r\n      lastName: lastName,\r\n      email: email,\r\n      address: address,\r\n      zipCode: zipCode,\r\n      phoneNum: phoneNum,\r\n      kindPayment: kindPayment,\r\n      totalPrice: totalPrice,\r\n      wineList: wineList,\r\n      amounts: amounts,\r\n      kindPayment: kindPayment,\r\n    };\r\n\r\n    fetch(\"http://localhost:4000/completeOrder\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(cardDetails),\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        setOrderCompleted(true);\r\n        cookies.remove(\"card\");\r\n\r\n        setCard([]);\r\n\r\n        setTimeout(setOrderCompleted(false), 3000);\r\n        try {\r\n          SendEmail();\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      });\r\n  };\r\n\r\n  // ---------------------- Send Email ----------------\r\n\r\n  const SendEmail = () => {\r\n    emailjs\r\n      .send(\r\n        \"service_v0wulhc\",\r\n        \"template_wz5m9wr\",\r\n        {\r\n          name: { firstName } + { lastName },\r\n          order_id: \"#eregdfgdfgdf\",\r\n          email_to: { email },\r\n        },\r\n        \"WuMNYncc27nq1KILD\"\r\n      )\r\n      .then(function (res) {\r\n        alert(\"Success\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Confirm your Order</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>Complete Order? Are you sure?</Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={onCreateOrder}>\r\n            Complete Order\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n      <div className=\"title\">\r\n        <div className=\"container py-4\">\r\n          <header className=\"pb-3 mb-4 border-bottom\">\r\n            <a className=\"d-flex align-items-center text-dark text-decoration-none\">\r\n              <span className=\"fs-4\">WineLovers Website</span>\r\n            </a>\r\n          </header>{\" \"}\r\n        </div>\r\n        <Row>\r\n          <Col xs={deviceSize < 800 ? 12 : 8}>\r\n            <div className=\"product-details mr-2\">\r\n              {/* <Button\r\n                variant=\"dark\"\r\n                onClick={() => {\r\n                  window.history.go(-1);\r\n                }}\r\n              >\r\n                <IoArrowBack className=\"continie-shopping-icon\" /> Continue\r\n                Shopping\r\n              </Button> */}\r\n\r\n              <h4 className=\"mb-0\">Shopping cart</h4>\r\n\r\n              {card.length === 0 && (\r\n                <Alert className=  {deviceSize < 800 ? 12 : \"emptyAlert\"}  variant=\"warning\">\r\n                  <FaWineBottle className=\"history-icon\" /> The Card is Empty!\r\n                  Add some wines!\r\n                </Alert>\r\n              )}\r\n\r\n              {orderCompleted === true && (\r\n                <Alert className=\"emptyAlert\" variant=\"success\">\r\n                  <AiOutlineMail className=\"history-icon\" /> Your Order\r\n                  Succesfully Completed! Please check your email address!\r\n                </Alert>\r\n              )}\r\n\r\n              {card.length !== 0 && (\r\n                <div>\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <span>\r\n                      You have <strong>{card.length} items</strong> in your cart\r\n                    </span>\r\n                    <strong>Total Price : {totalPrice} €</strong>\r\n                  </div>\r\n\r\n                  {card.map((item) => (\r\n                    <div className=\"d-flex justify-content-between align-items-center mt-3 p-2 items rounded\">\r\n                      <div className=\"d-flex flex-row\">\r\n                        <a href={`/wine/${item.split(\",\")[0]}`}>\r\n                          <img\r\n                            className=\"cardImage\"\r\n                            src={item.split(\",\")[6]}\r\n                            width=\"40\"\r\n                          />\r\n                        </a>\r\n                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                        <div className=\"ml-2\">\r\n                          <span className=\"font-weight-bold d-block\">\r\n                            {item.split(\",\")[1]}\r\n                          </span>\r\n                          <span className=\"spec\">\r\n                            {item.split(\",\")[4]} , {item.split(\",\")[3]}\r\n                          </span>\r\n                          <br />\r\n                          <span className=\"spec\">{item.split(\",\")[5]} €</span>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"d-flex flex-row align-items-center\">\r\n                        <span>\r\n                          {\" \"}\r\n                          <AiOutlineMinus />\r\n                          &nbsp;\r\n                          <strong className=\"amount-box\">\r\n                            &nbsp;{item.split(\",\")[7]}&nbsp;\r\n                          </strong>\r\n                          &nbsp;\r\n                          <AiOutlinePlus />\r\n                        </span>\r\n\r\n                        <span>\r\n                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                        </span>\r\n\r\n                        <span className=\"d-block ml-5 font-weight-bold\">\r\n                          <strong>\r\n                            {item.split(\",\")[7] * item.split(\",\")[5]}&nbsp;€\r\n                          </strong>\r\n                          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                          <FontAwesomeIcon\r\n                            className=\"deleteIcon\"\r\n                            onClick={() => {\r\n                              onDeletefromCard(item);\r\n                            }}\r\n                            icon={faTrash}\r\n                            size=\"1x\"\r\n                            title=\"Delete from cart\"\r\n                          />\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </Col>\r\n          <Col xs={deviceSize < 800 ? 12 : 3}>\r\n            {userDetails.length !== 0 && (\r\n              <div className=\"order-card\">\r\n                <br />\r\n                <br />\r\n                Continue with Order\r\n                <br />\r\n                <div className=\"payment-info\">\r\n                  Personal Details\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                      <label className=\"label-formater\">First Name</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={firstName}\r\n                        className=\"form-control credit-inputs\"\r\n                        placeholder=\"Giwrgos\"\r\n                        onChange={(e) => {\r\n                          setfirstName(e.target.value);\r\n                        }}\r\n                      />\r\n                      {firstName !== \"\" ? (\r\n                        \"\"\r\n                      ) : (\r\n                        <p className=\"error-message\">\r\n                          &#8226; Provide First Name\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div className=\"col-md-6\">\r\n                      <label className=\"label-formater\">Last Name</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={lastName}\r\n                        className=\"form-control credit-inputs\"\r\n                        placeholder=\"Georgiou\"\r\n                        onChange={(e) => {\r\n                          setlastName(e.target.value);\r\n                        }}\r\n                      />\r\n                      {lastName !== \"\" ? (\r\n                        \"\"\r\n                      ) : (\r\n                        <p className=\"error-message\">\r\n                          &#8226; Provide First Name\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div className=\"col-md-6\">\r\n                      <label className=\"label-formater\">Email</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={email}\r\n                        className=\"form-control credit-inputs\"\r\n                        placeholder=\"yourEmail@company.com\"\r\n                        onChange={(e) => {\r\n                          setEmail(e.target.value);\r\n                        }}\r\n                      />\r\n\r\n                      {validateEmail(email) || email === \"\" ? (\r\n                        \"\"\r\n                      ) : (\r\n                        <p className=\"error-message\">&#8226; Wrong Email</p>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div className=\"col-md-6\">\r\n                      <label className=\"label-formater\">\r\n                        Shipping location\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={address}\r\n                        className=\"form-control credit-inputs\"\r\n                        placeholder=\"Atiki,Greece 31\"\r\n                        onChange={(e) => {\r\n                          setAddress(e.target.value);\r\n                        }}\r\n                      />\r\n                      {address === \"\" && (\r\n                        <p className=\"error-message\">\r\n                          &#8226; Please Provide Address.\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <label className=\"label-formater\">Zip Number</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control credit-inputs\"\r\n                        placeholder=\"15231\"\r\n                        onChange={(e) => {\r\n                          setZipCode(e.target.value);\r\n                        }}\r\n                      />\r\n                      {zipCode !== \"\" && zipCode.length !== 5 && (\r\n                        <p className=\"error-message\">\r\n                          &#8226; Wrong Zip Code. Max length 5.\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n\r\n                    <br />\r\n                    <div className=\"col-md-6\">\r\n                      <label className=\"label-formater\">Phone Number</label>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={phoneNum}\r\n                        className=\"form-control credit-inputs\"\r\n                        placeholder=\"6999999999\"\r\n                        onChange={(e) => {\r\n                          setPhoneNum(e.target.value);\r\n                        }}\r\n                      />\r\n\r\n                      {(isNaN(phoneNum) ||\r\n                        phoneNum.length > 10 ||\r\n                        phoneNum.length < 10) && (\r\n                        <p className=\"error-message\">\r\n                          &#8226; Wrong Phone Number\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  <hr />\r\n                  Kind of Payment\r\n                  <div>\r\n                    <select\r\n                      className=\"form-control credit-inputs\"\r\n                      onChange={(e) => {\r\n                        setKindPayment(e.target.value);\r\n                      }}\r\n                    >\r\n                      <option value=\"delivery\">Pay on delivery</option>\r\n                      <option value=\"deposit\">Bank deposit</option>\r\n                      <option value=\"card\">Payment by card</option>\r\n                    </select>\r\n\r\n                    {kindPayment === \"\" && (\r\n                      <p className=\"error-message\">\r\n                        &#8226; Provide Kind of Payment.\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                  <hr />\r\n                  Sumary\r\n                  <div className=\"d-flex justify-content-between information\">\r\n                    <span>Subtotal</span>\r\n                    <span> {totalPrice} €</span>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-between information\">\r\n                    <span>Shipping (only for orders under 50 €)</span>\r\n                    <span>\r\n                      {totalPrice > 50 || totalPrice === 0 ? \"0 €\" : \"3 €\"}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-between information\">\r\n                    <span>Total(Incl. taxes)</span>\r\n                    <span>\r\n                      {totalPrice > 50 || totalPrice === 0\r\n                        ? totalPrice\r\n                        : totalPrice + 3}{\" \"}\r\n                      €\r\n                    </span>\r\n                  </div>\r\n                  {/* <input\r\n                    type=\"number\"\r\n                    name=\"totalPrice\"\r\n                    value=\"{{total_price}}\"\r\n                  /> */}\r\n                  <button\r\n                    disabled={\r\n                      card.length === 0 ||\r\n                      kindPayment === \"\" ||\r\n                      address === \"\" ||\r\n                      phoneNum === \"\" ||\r\n                      zipCode === \"\" ||\r\n                      firstName === \"\" ||\r\n                      lastName === \"\" ||\r\n                      email === \"\"\r\n                    }\r\n                    onClick={handleShow}\r\n                    //onClick={SendEmail}\r\n                    className=\"btn btn-primary btn-block d-flex justify-content-between mt-3\"\r\n                  >\r\n                    <span>\r\n                      Complete Order\r\n                      <i className=\"fa fa-long-arrow-right ml-1\"></i>\r\n                    </span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n"]},"metadata":{},"sourceType":"module"}