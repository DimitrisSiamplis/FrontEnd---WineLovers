{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dimitris.siamplis\\\\Desktop\\\\React-Node\\\\Front-End\\\\src\\\\pages\\\\EditProfile.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport \"./EditProfile.css\";\nimport { useState, useEffect } from \"react\";\nimport Cookies from \"universal-cookie\";\nimport { validateEmail } from \"./Functions/functions\"; // import { Container } from \"react-bootstrap\";\n\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { GrEdit } from \"react-icons/gr\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditProfile = () => {\n  _s();\n\n  const [user, setUser] = useState([]);\n  const [newFirstName, setNewFirstName] = useState(\"\");\n  const [newLastName, setNewLastName] = useState(\"\");\n  const [newEmail, setNewEmail] = useState(\"\");\n  const [newMobile, setNewMobile] = useState(\"\");\n  const [newAddress, setNewAddress] = useState(\"\");\n  const cookies = new Cookies();\n  var userEmail = cookies.get(\"email\");\n\n  const getUser = email => {\n    var emailForSearch = email === undefined ? userEmail : email;\n    fetch(`https://winelovers.herokuapp.com/getUser/${emailForSearch}`).then(res => res.json()).then(json => {\n      setUser([json]);\n      console.log([json]);\n    });\n  };\n\n  useEffect(() => {\n    getUser();\n  }, []);\n\n  const edit = (firstName, lastName, address, mobile) => {\n    console.log(firstName, lastName, address, mobile);\n    let userDetails = {\n      name: firstName + \" \" + lastName,\n      address: address,\n      mobile: mobile,\n      email: userEmail\n    };\n    fetch(\"https://winelovers.herokuapp.com/editProfile\", {\n      method: \"POST\",\n      body: JSON.stringify(userDetails),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(json => {\n      console.log(json);\n      setNewFirstName(\"\");\n      setNewLastName(\"\");\n      setNewEmail(\"\");\n      setNewMobile(\"\");\n      getUser();\n    });\n  };\n\n  const onEditHandler = () => {\n    var firstName = newFirstName === \"\" ? user[0].user.Name.split(\" \")[0] : newFirstName.trim();\n    var lastName = newLastName === \"\" ? user[0].user.Name.split(\" \")[1] : newLastName.trim(); // var email = newEmail === \"\" ? user[0].user.Email : newEmail.trim();\n\n    var mobile = newMobile === \"\" ? user[0].user.Mobile : newMobile.trim();\n    var address = newAddress === \"\" ? user[0].user.Address : newAddress.trim(); //console.log(firstName, lastName, address, mobile)\n\n    edit(firstName, lastName, address, mobile);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container py-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"pb-3 mb-4 border-bottom\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"d-flex align-items-center text-dark text-decoration-none\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"fs-4\",\n              children: \"WineLovers Website\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), user.length !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mainDiv\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cardStyle\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"formTitle\",\n            children: [/*#__PURE__*/_jsxDEV(GrEdit, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 17\n            }, this), \" Edit Profile\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Container, {\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                xs: 6,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"inputDiv\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"inputLabel\",\n                    children: \"First Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    value: newFirstName,\n                    type: \"text\",\n                    id: \"editText\",\n                    placeholder: user[0].user.Name.split(\" \")[0],\n                    onChange: e => {\n                      setNewFirstName(e.target.value);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 21\n                }, this), newFirstName !== \"\" && newFirstName.length < 5 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"alertMessage\",\n                  children: [\" \", \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Min 5 characters.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 25\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 19\n              }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"buttonWrapper\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    id: \"submitButton\",\n                    disabled: newFirstName !== \"\" && newFirstName.length < 5 || newFirstName === \"\",\n                    onClick: onEditHandler,\n                    className: \"submitButton pure-button pure-button-primary\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Edit First Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 125,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                xs: 6,\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"inputDiv\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"inputLabel\",\n                    children: \"Last Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    value: newLastName,\n                    type: \"text\",\n                    id: \"editText\",\n                    placeholder: user[0].user.Name.split(\" \")[1],\n                    onChange: e => {\n                      setNewLastName(e.target.value);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 21\n                }, this), newLastName !== \"\" && newLastName.length < 5 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"alertMessage\",\n                  children: [\" \", \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Min 5 characters.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 25\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"buttonWrapper\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    id: \"submitButton\",\n                    disabled: newLastName !== \"\" && newLastName.length < 5 || newLastName === \"\",\n                    onClick: onEditHandler,\n                    className: \"submitButton pure-button pure-button-primary\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Edit Last Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 166,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"inputDiv\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"inputLabel\",\n                    children: \"Address\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    value: newAddress,\n                    type: \"text\",\n                    id: \"editText\",\n                    placeholder: user[0].user.Address,\n                    onChange: e => {\n                      setNewAddress(e.target.value);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"buttonWrapper\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    id: \"submitButton\",\n                    disabled: newEmail !== \"\" && newEmail.length < 5 || newEmail === \"\" || !validateEmail(newEmail),\n                    onClick: onEditHandler,\n                    className: \"submitButton pure-button pure-button-primary\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Edit Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 206,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                xs: 6,\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"inputDiv\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"inputLabel\",\n                    children: \"Mobile\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    value: newMobile,\n                    type: \"text\",\n                    id: \"editText\",\n                    placeholder: user[0].user.Mobile,\n                    onChange: e => {\n                      setNewMobile(e.target.value);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"buttonWrapper\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    id: \"submitButton\",\n                    disabled: newMobile !== \"\" && (newMobile.length < 10 || newMobile.length > 10) || newMobile === \"\" || newMobile[0] !== \"6\" || newMobile[1] !== \"9\" || isNaN(newMobile),\n                    onClick: onEditHandler,\n                    className: \"submitButton pure-button pure-button-primary\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Edit Mobile\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 244,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditProfile, \"5eoK0/tjBphMENDPbYC0ExCezHw=\");\n\n_c = EditProfile;\nexport default EditProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProfile\");","map":{"version":3,"sources":["C:/Users/dimitris.siamplis/Desktop/React-Node/Front-End/src/pages/EditProfile.js"],"names":["React","useState","useEffect","Cookies","validateEmail","Container","Row","Col","GrEdit","EditProfile","user","setUser","newFirstName","setNewFirstName","newLastName","setNewLastName","newEmail","setNewEmail","newMobile","setNewMobile","newAddress","setNewAddress","cookies","userEmail","get","getUser","email","emailForSearch","undefined","fetch","then","res","json","console","log","edit","firstName","lastName","address","mobile","userDetails","name","method","body","JSON","stringify","headers","onEditHandler","Name","split","trim","Mobile","Address","length","e","target","value","isNaN"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"./EditProfile.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { validateEmail } from \"./Functions/functions\";\r\n// import { Container } from \"react-bootstrap\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport { GrEdit } from \"react-icons/gr\";\r\n\r\nconst EditProfile = () => {\r\n  const [user, setUser] = useState([]);\r\n  const [newFirstName, setNewFirstName] = useState(\"\");\r\n  const [newLastName, setNewLastName] = useState(\"\");\r\n  const [newEmail, setNewEmail] = useState(\"\");\r\n  const [newMobile, setNewMobile] = useState(\"\");\r\n  const [newAddress, setNewAddress] = useState(\"\");\r\n\r\n  const cookies = new Cookies();\r\n  var userEmail = cookies.get(\"email\");\r\n\r\n  const getUser = (email) => {\r\n    var emailForSearch = email === undefined ? userEmail : email;\r\n    fetch(`https://winelovers.herokuapp.com/getUser/${emailForSearch}`)\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        setUser([json]);\r\n        console.log([json]);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUser();\r\n  }, []);\r\n\r\n  const edit = (firstName, lastName, address, mobile) => {\r\n    console.log(firstName, lastName, address, mobile);\r\n    let userDetails = {\r\n      name: firstName + \" \" + lastName,\r\n      address: address,\r\n      mobile: mobile,\r\n      email: userEmail,\r\n    };\r\n    fetch(\"https://winelovers.herokuapp.com/editProfile\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(userDetails),\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        console.log(json);\r\n        setNewFirstName(\"\");\r\n        setNewLastName(\"\");\r\n        setNewEmail(\"\");\r\n        setNewMobile(\"\");\r\n        getUser();\r\n      });\r\n  };\r\n\r\n  const onEditHandler = () => {\r\n    var firstName =\r\n      newFirstName === \"\"\r\n        ? user[0].user.Name.split(\" \")[0]\r\n        : newFirstName.trim();\r\n    var lastName =\r\n      newLastName === \"\" ? user[0].user.Name.split(\" \")[1] : newLastName.trim();\r\n    // var email = newEmail === \"\" ? user[0].user.Email : newEmail.trim();\r\n    var mobile = newMobile === \"\" ? user[0].user.Mobile : newMobile.trim();\r\n    var address = newAddress === \"\" ? user[0].user.Address : newAddress.trim();\r\n    //console.log(firstName, lastName, address, mobile)\r\n    edit(firstName, lastName, address, mobile);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"title\">\r\n        <div className=\"container py-4\">\r\n          <header className=\"pb-3 mb-4 border-bottom\">\r\n            <a className=\"d-flex align-items-center text-dark text-decoration-none\">\r\n              <span className=\"fs-4\">WineLovers Website</span>\r\n            </a>\r\n          </header>{\" \"}\r\n        </div>\r\n        {user.length !== 0 && (\r\n          <div className=\"mainDiv\">\r\n            <div className=\"cardStyle\">\r\n              <h2 className=\"formTitle\">\r\n                <GrEdit /> Edit Profile\r\n              </h2>\r\n\r\n              <Container>\r\n                <Row>\r\n                  <Col xs={6}>\r\n                    <div className=\"inputDiv\">\r\n                      <label className=\"inputLabel\">First Name</label>\r\n                      <input\r\n                        value={newFirstName}\r\n                        type=\"text\"\r\n                        id=\"editText\"\r\n                        placeholder={user[0].user.Name.split(\" \")[0]}\r\n                        onChange={(e) => {\r\n                          setNewFirstName(e.target.value);\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    {newFirstName !== \"\" && newFirstName.length < 5 && (\r\n                      <p className=\"alertMessage\">\r\n                        {\" \"}\r\n                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                        <strong>Min 5 characters.</strong>{\" \"}\r\n                      </p>\r\n                    )}\r\n                  </Col>{\" \"}\r\n                  <Col xs={6}>\r\n                    <div className=\"buttonWrapper\">\r\n                      <button\r\n                        type=\"submit\"\r\n                        id=\"submitButton\"\r\n                        disabled={\r\n                          (newFirstName !== \"\" && newFirstName.length < 5) ||\r\n                          newFirstName === \"\"\r\n                        }\r\n                        onClick={onEditHandler}\r\n                        className=\"submitButton pure-button pure-button-primary\"\r\n                      >\r\n                        <span>Edit First Name</span>\r\n                      </button>\r\n                    </div>\r\n                  </Col>\r\n                </Row>{\" \"}\r\n                <hr />\r\n                <Row>\r\n                  <Col xs={6}>\r\n                    {\" \"}\r\n                    <div className=\"inputDiv\">\r\n                      <label className=\"inputLabel\">Last Name</label>\r\n                      <input\r\n                        value={newLastName}\r\n                        type=\"text\"\r\n                        id=\"editText\"\r\n                        placeholder={user[0].user.Name.split(\" \")[1]}\r\n                        onChange={(e) => {\r\n                          setNewLastName(e.target.value);\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    {newLastName !== \"\" && newLastName.length < 5 && (\r\n                      <p className=\"alertMessage\">\r\n                        {\" \"}\r\n                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                        <strong>Min 5 characters.</strong>{\" \"}\r\n                      </p>\r\n                    )}\r\n                  </Col>\r\n                  <Col xs={6}>\r\n                    <div className=\"buttonWrapper\">\r\n                      <button\r\n                        type=\"submit\"\r\n                        id=\"submitButton\"\r\n                        disabled={\r\n                          (newLastName !== \"\" && newLastName.length < 5) ||\r\n                          newLastName === \"\"\r\n                        }\r\n                        onClick={onEditHandler}\r\n                        className=\"submitButton pure-button pure-button-primary\"\r\n                      >\r\n                        <span>Edit Last Name</span>\r\n                      </button>\r\n                    </div>\r\n                  </Col>\r\n                </Row>\r\n                <hr />\r\n                <Row>\r\n                  <Col xs={6}>\r\n                    <div className=\"inputDiv\">\r\n                      <label className=\"inputLabel\">Address</label>\r\n                      <input\r\n                        value={newAddress}\r\n                        type=\"text\"\r\n                        id=\"editText\"\r\n                        placeholder={user[0].user.Address}\r\n                        onChange={(e) => {\r\n                          setNewAddress(e.target.value);\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    {/* {newAddress !== \"\"  && (\r\n                    <p className=\"alertMessage\">\r\n                      {\" \"}\r\n                      Email must iclude '@'' and '.'{\" \"}\r\n                    </p>\r\n                  )} */}\r\n                  </Col>\r\n                  <Col xs={6}>\r\n                    <div className=\"buttonWrapper\">\r\n                      <button\r\n                        type=\"submit\"\r\n                        id=\"submitButton\"\r\n                        disabled={\r\n                          (newEmail !== \"\" && newEmail.length < 5) ||\r\n                          newEmail === \"\" ||\r\n                          !validateEmail(newEmail)\r\n                        }\r\n                        onClick={onEditHandler}\r\n                        className=\"submitButton pure-button pure-button-primary\"\r\n                      >\r\n                        <span>Edit Email</span>\r\n                      </button>\r\n                    </div>\r\n                  </Col>\r\n                </Row>{\" \"}\r\n                <hr />\r\n                <Row>\r\n                  <Col xs={6}>\r\n                    {\" \"}\r\n                    <div className=\"inputDiv\">\r\n                      <label className=\"inputLabel\">Mobile</label>\r\n                      <input\r\n                        value={newMobile}\r\n                        type=\"text\"\r\n                        id=\"editText\"\r\n                        placeholder={user[0].user.Mobile}\r\n                        onChange={(e) => {\r\n                          setNewMobile(e.target.value);\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  </Col>\r\n                  <Col xs={6}>\r\n                    <div className=\"buttonWrapper\">\r\n                      <button\r\n                        type=\"submit\"\r\n                        id=\"submitButton\"\r\n                        disabled={\r\n                          (newMobile !== \"\" &&\r\n                            (newMobile.length < 10 || newMobile.length > 10)) ||\r\n                          newMobile === \"\" ||\r\n                          newMobile[0] !== \"6\" ||\r\n                          newMobile[1] !== \"9\" ||\r\n                          isNaN(newMobile)\r\n                        }\r\n                        onClick={onEditHandler}\r\n                        className=\"submitButton pure-button pure-button-primary\"\r\n                      >\r\n                        <span>Edit Mobile</span>\r\n                      </button>\r\n                    </div>\r\n                  </Col>\r\n                </Row>\r\n                <hr />\r\n              </Container>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditProfile;\r\n"]},"metadata":{},"sourceType":"module"}